---
slug: 2
title: Flutter EquaTable로 Bloc State 관리하기
authors: mooyeon
tags: [Flutter, Bloc, Equatable]
date: 2024-11-06T12:01
---

# Flutter Equatable로 Bloc State 관리하기

Flutter로 Android/iOS 애플리케이션을 개발하면 RiverPod이나 Bloc과 같은 상태관리 라이브러리들을 들어봤을 것이다. 이러한 상태관리 라이브러리들은 UI 계층과 비즈니스 로직을 담당하는 계층을 분리해주어 보다 쉽게 애플리케이션을 개발하도록 도와준다. 하지만 분리해둔 상태를 비교하는 과정에서 생각했건 것처럼 Object 비교가 이루어지지 않는 경우가 있는데, Equatable을 통해서 어떻게 Object를 비교하고 Bloc State를 더욱 잘 관리할 수 있을 지 확인해보자.

:::info 목차

1. [Bloc](#bloc)
2. [SwiftUI 애니메이션의 마법](#swiftui-애니메이션의-마법)
3. [위젯, 위젯, 어디에나 있고 픽셀 하나도 남기지 않기](#위젯-위젯-어디에나-있고-픽셀-하나도-남기지-않기)
4. [모두를 위한 디자인](#모두를-위한-디자인)
5. [위치 기반 서비스를 하면서 알게된 사소한 지식들](#위치-기반-서비스를-하면서-알게된-사소한-지식들)
6. [사용자 중심 소프트웨어 만들기](#사용자-중심-소프트웨어-만들기)

:::

<!--truncate-->

## Bloc

Bloc 공식문서를 확인하면 다음과 같이 설명한다. 

`"Bloc을 사용하면 비즈니스 로직에서 프리젠테이션을 분리하여 코드를 빠르고 쉽게 테스트 하고 재사용할 수 있습니다."`

`'비즈니스 로직에서 프리젠테이션을 분리'`, 즉 상태를 UI View에서 분리하면 코드 개발을 더 쉽게 도와준다. 왜? 상태를 분리하면 코드 개발이 더 쉬워질까?

애플리케이션을 구축하는데 있어서는 다음 6가지 항목이 매우 중요하다.

- 애플리케이션의 상태를 언제든지 알 수 있다.
- 애플리케이션이 모든 경우에 대해서 문제없이 동작하는지 쉽게 테스트할 수 있어야한다.
- 사용자 데이터를 기반으로 하여 결정을 내릴 수 있도록 각 사용자의 사용 이력을 기록할 수 있어야한다.
- 컴포넌트의 재사용을 통해 효율적으로 코드를 작성하여야 한다.
- 모든 개발자가 동일한 규칙에 따라 단일 코드 내에서 원할하게 작업할 수 있어야한다.
- 빠르고 반응성이 뛰어나야 한다.

Bloc을 활용하면 위 요구 사항을 충족하여 개발하도록 도와준다.

### State

블록을 사용한다면 BlocState를 통해 상태값들을 저장해준다.

State가 변경된다면 Stream을 통해 상태 변경을 UI에 전달하고 화면이 다시 랜더링 된다.

이때 State를 단순히 class로 저장하면 Properties의 변경을 감지하지 못한다.

따라서 Bloc에서 제공하는 메서드롤 통해 상태를 비교하고 상태값이 변경되었음을 표시해야하는데,

이렇게 개발한다면 코드가 복잡해지고 한눈에 알아보기가 쉽지 않다.

따라서 이를 보다 쉽게 처리하기위해 Equatable을 사용한다.

## Equatable

