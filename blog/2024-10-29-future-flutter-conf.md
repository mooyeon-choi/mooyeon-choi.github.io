---
slug: future-flutter-conf
title: í“¨ì²˜ í”ŒëŸ¬í„° ì»¨í¼ëŸ°ìŠ¤ í›„ê¸°
authors: mooyeon
tags: [Dart, Flutter, app]
date: 2024-10-29T12:47
---

# Future Flutter ì»¨í¼ëŸ°ìŠ¤ í›„ê¸°

## ì†Œê°œ

ì¡°ê¸ˆ ëŠ¦ì—ˆì§€ë§Œ, 2024ë…„ 9ì›” 28ì¼ ì§„í–‰ëœ Flutter ì»¨í¼ëŸ°ìŠ¤ Future Flutterì—ì„œ ë“¤ì—ˆë˜ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³ , ì‹¤ì œ íšŒì‚¬ì— ì ìš©í•´ë³´ë©° ê²ªì—ˆë˜ ì´ìŠˆë“¤ì— ëŒ€í•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì´ë‹¤.

:::info ëª©ì°¨

1. [FFIë¡œ ì—°ê²°í•˜ëŠ” ê³ (Go)ì™€ í”ŒëŸ¬í„°](#ffië¡œ-ì—°ê²°í•˜ëŠ”-ê³ goì™€-í”ŒëŸ¬í„°)
2. [Flutter WebRTC](#flutter-webrtc)
3. [ShoreBird ì‘ë™ ë°©ì‹](#shorebird-ì‘ë™-ë°©ì‹)
4. [í’ì„±í•œ ë””ìì¸ ìš”ì²­ì‚¬í•­ì— ëŒ€ì‘í•˜ê¸°](#í’ì„±í•œ-ë””ìì¸-ìš”ì²­ì‚¬í•­ì—-ëŒ€ì‘í•˜ê¸°)
5. [í”ŒëŸ¬í„° ë Œë”ë§ í•´ë¶€í•™](#í”ŒëŸ¬í„°-ë Œë”ë§-í•´ë¶€í•™)
6. [Flutter webì„ í™œìš©í•˜ì—¬ ì œí’ˆ ê°œë°œ í™˜ê²½ ê°œì„ í•˜ê¸°](#flutter-webì„-í™œìš©í•˜ì—¬-ì œí’ˆ-ê°œë°œ-í™˜ê²½-ê°œì„ í•˜ê¸°)
7. [ì–´ëŠë‚  ê°‘ìê¸° ì•±ì´ í„°ì¡Œì„ ë•Œ](#ì–´ëŠë‚ -ê°‘ìê¸°-ì•±ì´-í„°ì¡Œì„-ë•Œ)
8. [Flutter Blocì„ ì œí’ˆ ê°œë°œì— ì•¼ë¬´ì§€ê²Œ ì ìš©í•˜ê¸°](#flutter-blocì„-ì œí’ˆ-ê°œë°œì—-ì•¼ë¬´ì§€ê²Œ-ì ìš©í•˜ê¸°)

:::

<!--truncate-->

## FFIë¡œ ì—°ê²°í•˜ëŠ” ê³ (Go)ì™€ í”ŒëŸ¬í„°

ë©€í‹° í”Œë«í¼ì— ëŒ€ì‘í•˜ëŠ” ì•±ì„ ë§Œë“¤ê¸° ìœ„í•´ Go ì–¸ì–´ì™€ í”ŒëŸ¬í„°ë¥¼ í™œìš©í•˜ë©° ê¸°ë³¸ì ì¸ UI ë””ìì¸ì„ ì ìš©í•˜ë©° ê³ ì„±ëŠ¥ì˜ ì•±ì„ ê°œë°œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ê³ ë¯¼í•˜ë©° ì ìš©í•œ ë‚´ìš©ì— ëŒ€í•œ ë°œí‘œì˜€ë‹¤.

### ì™œ Go ì¸ê°€?

ê³ ì–¸ì–´ë¥¼ ì±„íƒí•œ ì¥ì ì—ëŠ” í¬ê²Œ 3ê°€ì§€ì˜ ì´ìœ ê°€ ìˆì—ˆë‹¤.

#### í¬ë¡œìŠ¤ í”Œë«í¼ ê°œë°œ

Windows, macOS, Linux ì™€ ê°™ì€ ë‹¤ì–‘í•œ ìš´ì˜ì²´ì œì™€ x86, ARM ë“±ì˜ ì•„í‚¤í…ì³ë¡œ í¬ë¡œìŠ¤ ì»´íŒŒì¼ì´ ê°€ëŠ¥í•˜ì—¬ ë³´ë‹¤ ë¹ ë¥´ê²Œ ë‹¤ì–‘í•œ í”Œë«í¼ ì§€ì›ì„ ê°„í¸í•˜ê²Œ í•œë‹¤.

#### ë¹ ë¥¸ ì»´íŒŒì¼ê³¼ ì‹¤í–‰

Goì–¸ì–´ëŠ” ë¨¸ì‹ ì½”ë“œë¡œ ë°”ë¡œ ì»´íŒŒì¼ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ê³ ì„±ëŠ¥ì˜ ì•± ê°œë°œì— ìœ ë¦¬í•˜ë‹¤. ì‹¤í–‰ì†ë„ê°€ ë¹ ë¥¼ ë¿ë§Œì•„ë‹ˆë¼ ì»´íŒŒì¼ ì†ë„ë„ ë¹¨ë¼, ìˆ˜ì •ì‚¬í•­ì„ ë¹ ë¥´ê²Œ ì ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê³  ì´ë¡œì¸í•´ ê°œë°œ ì†ë„ë¥¼ ë¹ ë¥´ê²Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤.

#### ê°€ë²¼ì›€ê³¼ í™•ì¥ì„±

ê³ ë£¨í‹´ê³¼ ì±„ë„ì´ë¼ ì•Œë ¤ì§„ ë™ì‹œì„± ê¸°ëŠ¥ì„ ì§€ì›í•˜ì—¬ ë§ì€ ì‘ì—…ë“¤ì„ ì„±ëŠ¥ì €í•˜ ì—†ì´ ë™ì‹œì— ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤. íš¨ìœ¨ì„±ê³¼ í™•ì¥ì„±ì„ í•„ìš”ë¡œí•˜ëŠ” ê³ ì„±ëŠ¥ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ì´ìƒì ì´ë‹¤.

### ì™œ í”ŒëŸ¬í„°ì¸ê°€?

#### í¬ë¡œìŠ¤ í”Œë«í¼ ê°œë°œ

í•˜ë‚˜ì˜ ì½”ë“œ ë² ì´ìŠ¤ë¡œ ì•ˆë“œë¡œì´ë“œ, IOS, Windows desktop, Web ë“± ì—¬ëŸ¬ í”Œë«í¼ ê°œë°œì´ ê°€ëŠ¥í•˜ë‹¤. ì´ë¡œì¸í•´ ì ì€ ì¸ì›ê³¼ ì‹œê°„ìœ¼ë¡œ ë‹¤ì–‘í•œ í”Œë«í¼ì— ëŒ€ì‘í•˜ëŠ” App.ì„ ê°œë°œí•  ìˆ˜ ìˆë‹¤.

#### ìœ ìš©í•œ ê°œë°œë„êµ¬

í”ŒëŸ¬í„°ì˜ í•«ë¦¬ë¡œë“œ, í•«ë¦¬ìŠ¤íƒ€ìŠ¤ ê°™ì€ ê¸°ëŠ¥ê³¼ ìœ ìš©í•œ ê°œë°œ ë„êµ¬ë¥¼ ì§€ì›í•´ ê°œë°œ ì†ë„ë¥¼ ë¹ ë¥´ê²Œ í•œë‹¤.

#### ë¹ ë¥´ê³  ì•„ë¦„ë‹¤ìš´ ì• í”Œë¦¬ì¼€ì´ì…˜

í”ŒëŸ¬í„°ëŠ” ìì²´ì ìœ¼ë¡œ ê¸°ë³¸ì ì¸ ì• ë‹ˆë©”ì´ì…˜ê³¼ ì¸í„°ë ‰ì…˜ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ë˜ì–´ìˆì–´ ë³´ë‹¤ ê°„í¸í•˜ê²Œ ê³ í€„ë¦¬í‹°ì˜ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•œë‹¤. ë˜í•œ ê° í”Œë«í¼ì— ë§ê²Œ ì»´íŒŒì¼ë˜ì–´ íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ í•´ì¤€ë‹¤.

### FFI ë€?

Foreign Function Interface (FFI)ëŠ” Cì–¸ì–´ë¡œ ì§œì—¬ì§„ í•¨ìˆ˜ë¥¼ ë‹¤íŠ¸ë‚˜ í”ŒëŸ¬í„°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í”ŒëŸ¬í„°ì—ì„œëŠ” `dart:ffi` íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œë‹¤.

Cë¿ë§Œ ì•„ë‹ˆë¼ Go, C++, Rust ë“±ì˜ **C ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì–¸ì–´**ë¼ë©´ Dartì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

### í”ŒëŸ¬í„°ì—ì„œ FFI ì‚¬ìš©í•˜ê¸°

```bash
flutter create --platforms=android,ios,macos,windows,linux --template=plugin ffi native add
```

ìœ„ ì»¤ë§¨ë“œë¡œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ `lib`í´ë” ì•„ë˜ì— `Dart` ì½”ë“œ, `src` í´ë” ì•„ë˜ì— `C` ì½”ë“œê°€ ìƒì„±ëœë‹¤.

#### ê³ ì–¸ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìƒì„±í•˜ê¸°

##### ê³ ì–¸ì–´ ì½”ë“œ ì‘ì„±

1. `src`í´ë” ì•ˆì— `go.mod` íŒŒì¼ ìƒì„±
    > **`go.mod` íŒŒì¼ì´ë€?** ëª¨ë“ˆ ì´ë¦„, ë²„ì „, ì˜ì¡´ì„± ë“±ì„ ì •ì˜í•˜ëŠ” íŒŒì¼

2. `sum.go` íŒŒì¼ì„ ìƒì„±í•˜ê³  ê³ ì–¸ì–´ ì½”ë“œë¥¼ ì‘ì„±
    ```go
    // sum.go file
    package main

    import "C"          // cgo ë¬¸ë²•ìœ¼ë¡œ 
                        // export <í•¨ìˆ˜ëª…> ì£¼ì„ì„ ì´ìš©í•´ì„œ sumì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ Cë¡œ export

    // export sum
    func sum(a C.int, b C.int) C.int {      // Cì—ì„œ ì‚¬ìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— Goì˜
        return a + b                        // íƒ€ì…ì´ ì•„ë‹Œ C íƒ€ì…ìœ¼ë¡œ C.int ë¥¼ ì‚¬ìš©
    }

    func main() {}
    ```

#### ê³ ì–¸ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì•ˆë“œë¡œì´ë“œìš©ìœ¼ë¡œ ì»´íŒŒì¼

ìµœì‹  ì•ˆë“œë¡œì´ë“œ ë‹¨ë§ê¸°ë“¤ì„ ì§€ì›í•˜ê¸° ìœ„í•´ì„œëŠ” `arm64`ì™€ `x86_64` ì•„í‚¤í…ì²˜ë¥¼ ì§€ì›í•˜ë„ë¡ í¬ë¡œìŠ¤ ì»´íŒŒì¼ ë˜ì–´ì•¼í•¨

```bash
export ANDROID_OUT=../android/src/main/jniLibs
export ANDROID_SDK=$HOME/Library/Android/sdk
export NDK_BIN=$ANDROID_SDK/ndk/23.1.777.9620/toolchains/llvm/prebuilt/darwin-x86_64/bin

# x86_64 ì•„í‚¤í…ì²˜ë¡œ ì»´íŒŒì¼ í•´ì„œ android/src/main/jniLibs/x86_64 í´ë”ì— libsum.so ìƒì„±
CGO_ENABLED=1 \
GOOS=android \
GOARCH=and64 \
CC=$NDK_BIN/x86_64-linux-android21-clang \
go build -buildmod=c-shared -o $ANDROID_OUT/x86_64/libsum.so

# arm64 ì•„í‚¤í…ì²˜ë¡œ ì»´íŒŒì¼ í•´ì„œ android/src/main/jniLibs/arm64-v8a í´ë”ì— libsum.so ìƒì„±
CGO_ENABLED=1 \
GOOS=android \
GOARCH=arm64 \
CC=$NDK_BIN/aarch64-linux-android21-clang \
go build -buildmode=c-shared -o $ANDROID_OUT/arm64-v8a/libsum.so
```

#### ê³ ì–¸ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ IOSìš©ìœ¼ë¡œ ì»´íŒŒì¼

ê¸°ë³¸ì ì¸ ì»¨ì…‰ì€ ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œì™€ ë™ì¼í•˜ë‚˜ ì•½ê°„ì˜ ì¶”ê°€ê³¼ì •ì´ í•„ìš”í•¨

* IOSëŠ” static ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì»´íŒŒì¼ í•´ì•¼í•¨
* ì‹œë®¬ë ˆì´í„°ìš© `arm64`ì™€ *`arm64` ë¹Œë“œ*ì™€ *ì•„ì´í°ìš© `arm64` ë¹Œë“œ*, ì´ ì„¸ê°œì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì»´íŒŒì¼
* ì‹œë®¬ë ˆì´í„°ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‘ê°œë¥¼ í†µí•©í•˜ê¸° ìœ„í•´ lipoë¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©
* ë¹Œë“œëœ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ `xframework`íŒ¨í‚¤ì§€ë¡œ í†µí•©

### í”ŒëŸ¬í„°ì—ì„œ ì‚¬ìš©í•˜ê¸°

#### FFIgenì„ ì‚¬ìš©í•´ì„œ ë°”ì¸ë”© ë§Œë“¤ê¸°

`C`ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ `Dart` ì½”ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë°”ì¸ë”©ì„ `ffigen`ì´ë¼ëŠ” ë„êµ¬ë¥¼ ì´ìš©í•´ì„œ ìë™ìƒì„±. `ffigen`ì„ ëŒë¦¬ê¸° ìœ„í•´ `ffigen yaml` ì‘ì„±

```yaml
# Run with `flutter pub run ffigen --config ffigen.yaml`.
name: NativeLibrary
description: Bindings to `src/sum.h`.
output: `lib/generated_bindings.dart`
headers:
  entry-points:
    -`src/libsum.h`
preamble: |
  // ignore_for_file: always_specify_types
  // ignore_for_file: camel_case_types
  // ignore_for_file: non_constant_identifier_names
  // ignore_for_file: unused_field
  // ignore_for_file: unused_element
comments:
  style: any
  lenght: full
```

#### ë‹¤íŠ¸ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ê¸°

ì´ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤íŠ¸ì—ì„œ ë¡œë“œí•˜ê³  `generated_bindings.dart` íŒŒì¼ì— `C` í•¨ìˆ˜ë¡œ ë°”ì¸ë”©ëœ ë‹¤íŠ¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ ê°€ëŠ¥

```dart
// lib/native_add.dart
import 'dart:ffi';
import 'dart:io';
import 'generated_bindings.dart';

int sum(int a, int b) => _bindings.sum(a, b);

const String _libName = 'native_add';

/// The dynamic library in which the symbols for {NativeAddBindings} can be found.
final DynamicLibrary _dylib = () {
  if (Platform.isAndroid || Platform.isLinux) {
    return DynamicLibrary.open('libsum.so');
  }
  throw UnsupportedError('Unknown platform: ${Platform.operatingSystem}');
}();

/// The bindings to the native functions in [_dylib].
final NativeLibrary _bindings = NativeLibrary(_dylib);
```

### ì •ë¦¬

* `C` ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì–¸ì–´ë¼ë©´ `Dart`ì—ì„œ **FFI**ë¥¼ í†µí•´ ì‚¬ìš© ê°€ëŠ¥í•¨
* `ffigen`ì„ ì´ìš©í•˜ë©´ `.h`ë¥¼ ì½ì–´ ìë™ìœ¼ë¡œ ë°”ì¸ë”© ì½”ë“œë¥¼ ìƒì„±í•´ì¤Œ
* `Go` ì–¸ì–´ì˜ í¬ë¡œìŠ¤ ì»´íŒŒì¼ëŸ¬ë¥¼ ì´ìš©í•´ ì‰½ê²Œ í¬ë¡œìŠ¤ í”Œë«í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìƒì„± ê°€ëŠ¥

:::info title=Next Step

* IOS / macOS / Windows / Linux ë“± ì•ˆë“œë¡œì´ë“œ ì™¸ ë‹¤ë¥¸ í”Œë«í¼ ë¹Œë“œ
  * ì˜ˆì‹œëŠ” Android / IOS / macOS ê¹Œì§€ë§Œ ë™ì‘
* ì›¹ì—ì„œë„ ë™ì‘í•˜ë„ë¡ ë¹Œë“œ (íŒíŠ¸: WebAssembly)
* ë©”ëª¨ë¦¬ ê³µìœ ë‚˜ ë¹„ë™ê¸° ì²˜ë¦¬ë“±ì˜ ê³ ê¸‰ ì‚¬ìš©ì˜ˆì œ
:::

## Flutter WebRTC

Flutterì—ì„œ WebRTCë¥¼ ì–´ë–»ê²Œ ë‹¤ë£¨ëŠ”ì§€ì— ëŒ€í•œ ë‚´ìš©ì„ ê¸°ëŒ€í•˜ì˜€ì§€ë§Œ, ê¸°ëŒ€í–ˆë˜ ë‚´ìš©ê³¼ëŠ” ë‹¬ë¦¬ ë‹¨ìˆœíˆ WebRTCì— ëŒ€í•œ ì„¤ëª…ë§Œ ì§„í–‰í•˜ì˜€ë‹¤. WebRTCì— ëŒ€í•´ ì˜ ì•Œì§€ ëª»í•˜ì—¬ ì´ ë‚´ìš© ë˜í•œ ìœ ìµí•œ ì‹œê°„ì´ì—ˆë‹¤.

### ì„œë¡ 

ë°œí‘œìë¶„ê»˜ì„œ í˜„ì¬ íšŒì‚¬ì— ì˜ìƒí†µí™” ì†”ë£¨ì…˜ì„ ê°œë°œí•˜ë©° ì–»ì€ Flutter WebRTC ì§€ì‹ì„ ê³µìœ í•´ì£¼ì…¨ë‹¤. WebRTCì— ëŒ€í•œ ê¸°ë³¸ ê°œë…ê³¼ Flutter í™˜ê²½ì—ì„œ WebRTCë¡œ í™”ìƒ í†µí™”ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•˜ì˜€ëŠ”ì§€ë¥¼ ê³µìœ í•´ì£¼ì…¨ë‹¤. 

### WebRTCì˜ ì£¼ìš” ê°œë…

WebRTCì˜ **RTC**ëŠ” **Real-Time Communication**ì˜ ì•½ìì´ë‹¤. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì‚¬ì´íŠ¸ê°€ **ì¤‘ê°„ì ì—†ì´** ë¸Œë¼ìš°ì €ê°„ì— **ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°** ë° ë°ì´í„° êµí™˜ì„ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.

ì›¹ì—ì„œ ì‹¤ì‹œê°„ ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¬ë°ì„ í•˜ê¸°ìœ„í•œ **ìœ ì¼í•œ í‘œì¤€**ìœ¼ë¡œ 2010ë…„ Googleì— ì˜í•´ ì˜¤í”ˆì†ŒìŠ¤í™” ë˜ì—ˆë‹¤. ì´í›„ Chrome ë“± **ëª¨ë“  ë¸Œë¼ìš°ì €**ì— íƒ‘ì¬ ë˜ì—ˆë‹¤. (ë¬¼ë¡  IEì—ì„œëŠ” ì œì™¸ ë˜ì—ˆì§€ë§Œ, IEëŠ” ì´ì œ ë³´ë‚´ì£¼ë„ë¡ í•˜ì ğŸ˜­) Flutterì—ì„œ ì‚¬ìš©í•˜ëŠ” WebRTCë„ ë‹¹ì—°íˆ ë™ì¼í•œ ì›ë¦¬ë¡œ ì‹¤í–‰ëœë‹¤.

í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ **ì§ì ‘ ì—°ê²°**ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ì§€ë§Œ, í´ë¼ì´ì–¸íŠ¸ë“¤ì´ ì™„ì „íˆ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ”ê²Œ ì•„ë‹Œ ì´ìƒ ì§ì ‘ ì—°ê²°í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ë”°ë¼ì„œ **ì‹œê·¸ë„ë§ ì„œë²„**ì™€ **ë¦´ë ˆì´ ì„œë²„** ê°™ì€ ê¸°ìˆ ë“¤ì´ ìƒê²¨ë‚œë‹¤.

#### ì‹œê·¸ë„ë§(Signaling) ì„œë²„

![webRTC Signaling server](./images/2024-10-29-future-flutter/webrtc_signaling_server.png)

ê°ê°ì˜ ê¸°ê¸°ê°€ **ì„œë²„ì˜ ë„ì›€ ì—†ì´ ì—°ê²°**í•˜ëŠ” ê²ƒì„ ë„ì™€ì£¼ëŠ” ì„œë²„ë¡œ, ë’¤ì—ì„œ ë‹¤ë£° **SDP(Session Description Protocol)** êµí™˜ì— ê´€ë ¨ëœ ì„œë²„ì´ë‹¤. ì‹¤ì œ ë°ì´í„°ê°€ ì‹œê·¸ë„ë§ ì„œë²„ë¥¼ í†µí•´ì„œ ì˜¤ê°€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ëŠ” ì ì„ ìœ ì˜í•˜ì.

#### ë¦´ë ˆì´(Relay) ì„œë²„

![Relay server](./images/2024-10-29-future-flutter/webrtc_turn_server.png)

**TURN ì„œë²„**ë¼ê³ ë„ ë¶€ë¥¸ë‹¤. ë°©í™”ë²½ì´ë‚˜ ì—¬ëŸ¬ ì œì•½ìœ¼ë¡œ ì¸í•´ **P2P** ì—°ê²°ì´ ë¶ˆê°€ëŠ¥í•œ ìƒí™©ì—ì„œ **í´ë¼ì´ì–¸íŠ¸ ê°„ ì¤‘ê³„**ë¥¼ í•´ì£¼ëŠ” ì„œë²„ì´ë‹¤. êµ¬ê¸€ì€ ê°œë°œìë“¤ì„ ìœ„í•´ **TURN ì„œë²„ ì½”ë“œ**ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤. TURN ì„œë²„ë¥¼ êµ¬í˜„í•´ ë†“ìœ¼ë©´ ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ì— ìˆì–´ë„ P2Pì²˜ëŸ¼ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.

#### STUN ì„œë²„

**STUN ì„œë²„**ëŠ” **TURN ì„œë²„**ì™€ í˜¼ë™í•˜ê¸° ì‰½ë‹¤. **STUN ì„œë²„** ëŠ” **Session Traversal Utilities for NAT**ì˜ ì•½ìë¡œ í†µì‹ ì„ ìœ„í•´ **ìê¸° ìì‹ ì˜ ì •ë³´**ë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•œ ì„œë²„ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê³µìœ ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì—ì„œ ì™¸ë¶€IPë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ìê¸° ìì‹ ì„ ë¹„ì¶”ëŠ” ê±°ìš¸ë¡œ ìƒê°í•˜ë©´ ëœë‹¤.

#### RTCPeerConnection ê°ì²´

WebRTCë¥¼ ìœ„í•´ ì œê³µë˜ëŠ” Web API ê°ì²´ì´ë‹¤. ì›¹ ë¸Œë¼ìš°ì € ë˜ëŠ” ë„¤ì´í‹°ë¸Œ ì•±ì—ì„œ ì§ì ‘ì ì¸ í†µì‹  ì—°ê²°ì„ ìƒì„± ë° ê´€ë¦¬í•˜ê³ , ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ êµí™˜í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì´ë¥¼ ì˜ ì´í•´í•˜ê³  í™œìš©í•œë‹¤ë©´ WebRTC êµ¬í˜„ì„ ìœ„í•´ ê°œë°œìê°€ í•  ì¼ì´ í¬ê²Œ ì¤„ì–´ë“¤ ê²ƒì´ë‹¤.

**RTCPeerConnection**ì´ í•˜ëŠ” ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ë‹¤

- offer, answer, ice-candidate ë“± WebRTCë¥¼ ìœ„í•œ **ì‹ í˜¸ì²˜ë¦¬**
- STUN ë° TURN ì„œë²„ë¥¼ ì‚¬ìš©í•œ **NAT ë° ë°©í™”ë²½ í†µê³¼**
- ì‚¬ìš©ìì˜ ë””ë°”ì´ìŠ¤(ì¹´ë©”ë¼, ë§ˆì´í¬)ì—ì„œ ì˜¤ëŠ” **ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¼ ê´€ë¦¬**
- í´ë¼ì´ì–¸íŠ¸ ê°„ ë°ì´í„°ë¥¼ ì§ì ‘ êµí™˜í•˜ê¸° ìœ„í•œ **ë°ì´í„° ì±„ë„ ìƒì„±**
- í†µì‹  ì„¸ì…˜ì´ ì´ˆê¸°í™” ë˜ê±°ë‚˜ ë³€ê²½ë  ë•Œ **ì„¸ì…˜ í˜‘ìƒ** ë° **ì¬í˜‘ìƒ**
- ëª¨ë“  í†µì‹ ì„ ìë™ìœ¼ë¡œ ì•”í˜¸í™”í•˜ì—¬ **ì¤‘ê°„ì ê³µê²©**ìœ¼ë¡œë¶€í„° ë³´í˜¸
- í†µê³„ ë° ë„¤íŠ¸ì›Œí¬ ì •ë³´ ì œê³µ

WebRTCì˜ ê²½ìš° Flutterë§Œì„ ìœ„í•œ ìë£Œê°€ ê±°ì˜ ì—†ìœ¼ë¯€ë¡œ [MDN ì‚¬ì´íŠ¸](https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection)ë¥¼ í†µí•´ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

#### SDP (Session Description Protocol)

ë°œì‹ ìì™€ ìˆ˜ì‹ ìëŠ” ëª¨ë‘ **í´ë¼ì´ì–¸íŠ¸**ì´ë¯€ë¡œ í†µì‹  í™˜ê²½ì´ ë‹¤ë¥¸ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤. ë”°ë¼ì„œ SDPë¥¼ í†µí•´ ì„œë¡œì˜ **ë¯¸ë””ì–´ ëŠ¥ë ¥** ë° **ì—°ê²° ì •ë³´**ë¥¼ ê³µìœ í•´ì•¼ í•œë‹¤.

SDPì—ëŠ” ì˜¤ë””ì˜¤ ë° ë¹„ë””ì˜¤ ì½”ë±, ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¼ì˜ ë°©í–¥, RTP(Real-time Transport Protocol) ì—”ë“œí¬ì¸íŠ¸ ì •ë³´ê°€ í¬í•¨ëœë‹¤.

#### ICE (Interactive Connectivity Establishment)

ì¼ë°˜ì ìœ¼ë¡œ ë°œì‹ ìì™€ ìˆ˜ì‹ ìëŠ” **ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬**ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. í•˜ì§€ë§Œ ë°œì‹ ìì—ì„œ ìˆ˜ì‹ ìë¡œ, ìˆ˜ì‹ ìì—ì„œ ë°œì‹ ìë¡œ ê°€ëŠ” ë„¤íŠ¸ì›Œí¬ ê²½ë¡œëŠ” ë‹¤ì–‘í•˜ë¯€ë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ì— ì†í•œ í´ë¼ì´ì–¸íŠ¸ ê°„ í†µì‹  êµ¬í˜„ì€ ì–´ë µë‹¤. ICEëŠ” ë°œì‹ ì ë˜ëŠ” ìˆ˜ì‹ ì ì…ì¥ì—ì„œ **ë‚´ê²Œ ì˜¤ëŠ” ê¸¸**ì„ ì•Œë ¤ì¤€ë‹¤.

ICE CandidateëŠ” ë‹¤ìŒ ë‚´ìš©ì„ í¬í•¨í•œë‹¤. IP ì£¼ì†Œ, í¬íŠ¸ ë²ˆí˜¸, í”„ë¡œí† ì½œ(UDP ë˜ëŠ” TCP), Candidate ìœ í˜•(host, srflx, prflx, relay ë“± í¬í•¨)

ê° í”¼ì–´ëŠ” **ìì‹ ì˜ ëª¨ë“  í›„ë³´ë¥¼ ìˆ˜ì§‘**í•œ í›„ ì´ë¥¼ ë‹¤ë¥¸ í”¼ì–´ì™€ êµí™˜í•œë‹¤. ì–‘ìª½ í”¼ì–´ëŠ” **ê°€ëŠ¥í•œ ëª¨ë“  í›„ë³´ ì¡°í•©**ì— ëŒ€í•´ ì—°ê²°ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ë©° **ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„**ë¥¼ ê°€ì§„ í›„ë³´ ì¡°í•©ì´ ì„ íƒë˜ì–´ ë¯¸ë””ì–´ í†µì‹ ì— ì‚¬ìš©ëœë‹¤.

#### WebSocket

WebRTCì—ì„œ WebSocketì´ ë°˜ë“œì‹œ í•„ìš”í•˜ì§€ëŠ” ì•Šì§€ë§Œ, **ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ **ì—ì„œì˜ ì´ì  ë•Œë¬¸ì— ë§ì´ í™œìš©ëœë‹¤.

### WebRTC ê´€ë ¨ Flutter íŒ¨í‚¤ì§€

#### flutter_webrtc

Flutterì—ì„œ WebRTC ê¸°ëŠ¥ì„ ì´ìš©í•˜ê¸° ìœ„í•œ íŒ¨í‚¤ì§€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œëŠ” iOS, Android ë“± ë‹¤ì–‘í•œ í”Œë«í¼ì„ ìœ„í•´ ì œê³µë˜ëŠ” WebRTC ê³µì‹ **ë„¤ì´í‹°ë¸Œ íŒ¨í‚¤ì§€**ë¥¼ **ë©”ì„œë“œ ì±„ë„**ë¡œ ë¬¶ì–´ ë†“ì€ êµ¬ì¡°ì´ë‹¤.

#### web_socket_channel

Dart/Flutterì—ì„œ WebSocket ê´€ë ¨ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. Web APIì— ë¹„í•´ ì•„ì§ì€ ì¼ë¶€ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ëª»í•˜ëŠ” ë“± ì¡°ê¸ˆ ë¯¸í¡í•˜ë‹¤.

#### flutter_callkeep

Flutterì—ì„œ ì „í™” ìˆ˜ì‹  ë° ë°œì‹  UIë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•´ì¤€ë‹¤. iOSëŠ” CallKitì„ ì‚¬ìš©í•˜ë©°, AndroidëŠ” ìì²´ UIë¥¼ ë„ì›Œì¤€ë‹¤. iOS CallKit êµ¬í˜„ì„ ìœ„í•´ì„œëŠ” ë³„ë„ë¡œ VoIP Push êµ¬í˜„ì´ í•„ìš”í•˜ë‹¤

### WebRTC & WebSocket ë™ì‘íë¦„

![WebRTC and WebSocket flow](./images/2024-10-29-future-flutter/webrtc_and_websocket_1.png)

![WebRTC and WebSocket flow 2](./images/2024-10-29-future-flutter/webrtc_and_websocket_2.png)

WebSocketì´ ì—°ê²°ë˜ë©´ WebSocketì„ í†µí•´ connect ë°ì´í„°ê°€ ì „ì†¡ëœë‹¤. (ë°œì‹ ì, ìˆ˜ì‹ ì ëª¨ë‘)

```json
{
  "type": "connect",
  "callId": "string"
}
```

connect ìˆ˜ì‹  ì‹œ ë°œì‹ ìì™€ ìˆ˜ì‹ ìëŠ” ë‹¤ìŒ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.

1. RTCPeerConnection ê°ì²´ ì´ˆê¸°í™”
2. onIceCandidate ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€(ice-candidate ì „ì†¡)
3. onAddStream ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€(Remote Stream ì´ˆê¸°í™”, Remote Rendererë¥¼ Remote Streamê³¼ ì—°ê²°, Local Rendererë¥¼ Local Stream ê³¼ ì—°ê²°)
4. Local Stream ì´ˆê¸°í™”
5. ìˆ˜ì‹ ìëŠ” offer ìƒì„± ë° ë°œì‹ 

offerì™€ answerëŠ” **SDP**ë¥¼ êµí™˜í•˜ê¸° ìœ„í•´ ì´ë£¨ì–´ì§„ë‹¤. 

#### offer

ìˆ˜ì‹ ìëŠ” connectë¥¼ ë°›ìœ¼ë©´ offerë¥¼ ë³´ë‚¸ë‹¤.

```json
{
  "type": "offer",
  "sdp": "string",
  "callID": "string",
  "restart": "boolean"
}
```

#### answer

ë°œì‹ ìëŠ” offerë¥¼ ë°›ì•˜ì„ ë•Œ answerë¥¼ ë³´ë‚¸ë‹¤.

```json
{
  "type": "answer",
  "sdp": "string",
  "callId": "string"
}
```

* ìˆ˜ì‹ ìì˜ offer ë°œì‹  ë™ì‘
  1. offer ìƒì„±
  2. RTCPearConnection ê°ì²´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì • - Local Description: offer
  3. ë°œì‹ ìì—ê²Œ offer ì „ì†¡

* ë°œì‹ ìì˜ offer ìˆ˜ì‹  & answer ë°œì‹  ë™ì‘
  1. RTCPeerConnection ê°ì²´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì • - Remote Description: offer
  2. sdp ê¸°ë°˜ answer ìƒì„±
  3. RTCPeerConnection ê°ì²´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì • - Local Description: answer
  4. ìˆ˜ì‹ ìì—ê²Œ answer ì „ì†¡
  5. í†µí™” ì‹œì‘ì„ ìœ„í•œ UI ì²˜ë¦¬

* ìˆ˜ì‹ ìì˜ answer ìˆ˜ì‹  ë™ì‘
  1. RTCPeerConnection ê°ì²´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì • - Remote Description: answer
  2. í†µí™” ì‹œì‘ì„ ìœ„í•œ UI ì²˜ë¦¬


#### ice-candidate

ICE Candidateë¥¼ ìˆ˜ì‹ í•˜ê³  RTCPeerConnection ê°ì²´ì— ICE Candidateë¥¼ **ëª¨ë‘ ì¶”ê°€**

```json
{
  "type": "ice-candidate",
  "candidate": {
    "candidate": "string",
    "sdpMid": "string",
    "sdpMLineIndex": "int"
  },
  "callId": "string"
}
```

offer-answer êµí™˜ì´ ëë‚˜ê¸° ì „ì— ICE Candidate êµí™˜ì´ ë¨¼ì € ì¼ì–´ë‚˜ëŠ” ê²½ìš°ë„ ìˆë‹¤. ì´ë•ŒëŠ” **ë³„ë„ì˜ ë¦¬ìŠ¤íŠ¸**ì— ICE Candidateë¥¼ ëª¨ë‘ ì €ì¥í•´ ë’€ë‹¤ê°€ offer-answerê°€ ë°œìƒ í–ˆì„ ë•Œ **Peer Connection**ì— ICE Candidateë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

#### leave

í†µí™”ë¥¼ ì¢…ë£Œí•˜ê¸° ìœ„í•´ ì´ë£¨ì–´ì§„ë‹¤. ìˆ˜ì‹ ìì™€ ë°œì‹ ì ì¤‘ ì–´ëŠ í•œ ìª½ì´ leaaveë¥¼ ì „ì†¡í•˜ë©´ ì¦‰ì‹œ **í†µí™” ì¢…ë£Œ** ëœë‹¤.(ì„œë¡œ leaveë¥¼ êµí™˜í•  í•„ìš”ê°€ ì—†ë‹¤.)

```json
{
  "type": "leave",
  "callId": "string"
}
```

### Flutter WebRTCë¥¼ ìœ„í•œ íŒ

#### ìˆ˜ì‹ ìì˜ ì‘ë‹µ ì´ì „ ë°œì‹ ìì˜ í†µí™” ì¢…ë£Œ

ì„œë²„ì—ì„œ ìˆ˜ì‹ ìì—ê²Œ `"HUNGUP"` Push ì•Œë¦¼ì„ ë³´ë‚´ ì „í™” ìˆ˜ì‹  í™”ë©´, ì†Œë¦¬, ì§„ë™ì´ ëœ¨ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤.

#### ìˆ˜ì‹ ìì˜ í†µí™” ê±°ì ˆ

ì„œë²„ì—ì„œ ë°œì‹ ìì—ê²Œ `"REJECTED"` Push ì•Œë¦¼ì„ ë³´ë‚´ video í™”ë©´ì—ì„œ ë¹ ì ¸ë‚˜ì˜¤ë„ë¡ í•œë‹¤.

#### ìˆ˜ì‹ ìê°€ ì—¬ëŸ¬ ê¸°ê¸° ì¤‘ í•˜ë‚˜ì˜ ê¸°ê¸°ì—ì„œ ì‘ë‹µ

ì„œë²„ì—ì„œ ìˆ˜ì‹ ìì˜ ë‹¤ë¥¸ ê¸°ê¸°ë“¤ì— `"RESPONDED"` Push ì•Œë¦¼ì„ ë³´ë‚´ ì „í™” ìˆ˜ì‹  í™”ë©´, ì†Œë¦¬, ì§„ë™ì´ ëœ¨ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤.

#### í†µí™” ì¢…ë£Œ

í†µí™” ì¢…ë£Œ ì‹œì—ëŠ”, í•œìª½ì´ `"leave"` ë©”ì‹œì§€ë¥¼ ìƒëŒ€í¸ì— ë³´ë‚´ë©´ ë‘˜ë‹¤ ì¢…ë£Œëœë‹¤.
í•˜ì§€ë§Œ ì—¬ëŸ¬ê°€ì§€ ì´ìœ ë¡œ ì´ ë™ì‘ì´ ì •ìƒì ìœ¼ë¡œ ì§„í–‰ë˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ë•ŒëŠ” signaling ì„œë²„ì—ì„œ `"leave"` ë©”ì‹œì§€ë¥¼ ë””ë°”ì´ìŠ¤ì— ë³´ë‚´ì„œ ì¢…ë£Œí•˜ë„ë¡ í•œë‹¤.

## ShoreBird ì‘ë™ ë°©ì‹

ë©€í‹° í”Œë«í¼ ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•´ ë§ì´ ì‚¬ìš©ë˜ëŠ” í”„ë ˆì„ì›Œí¬ í•˜ë©´ ReactNative, Flutter ì™€ ê°™ì€ í”„ë ˆì„ì›Œí¬ë“¤ì´ ìƒê°ë‚  ê²ƒì´ë‹¤. RN(ReactNative) í•˜ë©´ ì—¬ëŸ¬ ê¸°ëŠ¥ì¤‘ ë‹¨ì—° **Code Push** ë¥¼ ë¨¼ì € ë– ì˜¬ë¦´ ìˆ˜ ìˆëŠ”ë°, `Flutter` ì—ì„œ `Code push` ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ì„œë¹„ìŠ¤ì¸ `Shorebird`ì— ëŒ€í•´ ì•Œì•„ë³´ì.

### Code pushë€?

* ì½”ë“œ ìˆ˜ì • ì‹œ ë””ë°”ì´ìŠ¤ì—ì„œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ì§€ ì•Šì•„ë„ ì§€ì†ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ ë³€ê²½ì‚¬í•­ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤
* ëŒ€ë¶€ë¶„ì˜ í° ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì€ `Code push`ë¥¼ ì‚¬ìš©ì¤‘ì´ë‹¤.
  * *Large install base = long store update time* ì´ë¯€ë¡œ

* ë¹„ì¦ˆë‹ˆìŠ¤ì—ì„œ í˜„ì‹¤ì ì¸ ë¬¸ì œë“¤
  * Downtime = lost revenue
  * Code push = insurance you can fix things quickly if they go wrong


## í’ì„±í•œ ë””ìì¸ ìš”ì²­ì‚¬í•­ì— ëŒ€ì‘í•˜ê¸°

LINE 2ë…„ì°¨ ì£¼ë‹ˆì–´ ê°œë°œìë¡œ ì¼í•˜ë©´ì„œ í”ŒëŸ¬í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ë””ìì¸ ìš”êµ¬ì‚¬í•­ë“¤ì„ í•´ê²°í•œ ê²½í—˜ë“¤ì„ ê³µìœ í•œ ì‹œê°„ì´ì—ˆë‹¤.

### CustomPaintë¥¼ í™œìš©í•œ Container

ë‹¤ì–‘í•œ ëª¨ì–‘ì˜ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ CustomPaintë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ê°í˜•ì˜ ë„í˜•ì„ ë§Œë“¤ë©° ë™ì ìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•œ ë°©ë²•ë“¤ì— ëŒ€í•´ ê³µìœ í•´ì£¼ì…¨ë‹¤.

`CustomPaint` ì˜ ê²½ìš° Flutter ì—ì„œ ë§¤ìš° ì¤‘ìš”í•˜ê²Œ í™œìš©ëœë‹¤. íŠ¹íˆ Interactive í•œ í™”ë©´ì„ ë””ìì¸í•˜ê¸° ìœ„í•´ Animation íš¨ê³¼ë¥¼ ì ìš©í•  ë•Œ Svg íŒŒì¼ì„ CustomPaintë¡œ ë³€í™˜í•˜ë©´ì„œ íŠ¹íˆ ë§ì´ í™œìš©ì´ ë˜ëŠ”ë°, í˜„ì¬ íšŒì‚¬ì—ì„œ appleì˜ [SF Symbols](https://developer.apple.com/sf-symbols/)ì™€ ìœ ì‚¬í•˜ê²Œ ì•„ì´ì½˜ë“¤ì„ ì»¤ìŠ¤í…€ ê°€ëŠ¥í•˜ê²Œ ìˆ˜ì •í•˜ëŠ” ì‘ì—…ì„ í•˜ë©° ë³´ê³ ìˆë˜ ë¶€ë¶„ì´ë¼ ë°˜ê°€ìš´ ì£¼ì œì˜€ë‹¤.

ë°œí‘œë‚´ìš©ì€ ê°„ë‹¨í•œ path ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ê³µìœ í•´ì£¼ëŠ” ì¡°ê¸ˆ ì‰¬ìš´ ë‚´ìš©ì´ì—ˆì§€ë§Œ, `Flutter`ë¥¼ ì²˜ìŒ ì ‘í•˜ë©° ê²ªì—ˆë˜ ê³ ë¯¼ë“¤ê³¼ ê°™ì€ ê³ ë¯¼ì„ í•´ë´¤ë˜ ê°œë°œì ë™ë£Œë¥¼ ë§Œë‚˜ ë°˜ê°€ì› ë‹¤.

ì¶”ê°€ë¡œ `CustomPaint` ì˜ ê²½ìš° `Flutter` íŒ€ì—ì„œ `SVG` ë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ ìµœì í™”ë¥¼ ì‹ ê²½ì¨ì„œ ì¢‹ì€ ì„±ëŠ¥ìœ¼ë¡œ í™”ë©´ì— ì•„ì´ì½˜ì´ë‚˜ ë²¡í„°ì´ë¯¸ì§€ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì—ˆëŠ”ë°, ì´ì™€ ê´€ë ¨í•˜ì—¬ [Youtube](https://www.youtube.com/watch?v=w9lD35D78N8)ì—ì„œ ì„¤ëª…í•œ ë‚´ìš©ë„ ì°¸ê³ í•˜ì

### Loading Skeleton

ìµœê·¼ ë¡œë”©í™”ë©´ì„ ë‹¨ìˆœíˆ Circular Loaderë¡œ êµ¬í˜„í•˜ì§€ ì•Šê³  ì‚¬ìš©ìë¡œ í•˜ì—¬ê¸ˆ ì–´ë–¤ ìë£Œë“¤ì´ ë³´ì—¬ì§ˆì§€ ì˜ˆì¸¡ì´ ê°€ëŠ¥í•˜ë„ë¡ ë””ìì¸í•˜ëŠ” Skeleton Designì„ ë§ì´ ì ìš©í•˜ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œê³ ìˆë‹¤. í˜„ì¬ íšŒì‚¬ì—ì„œë„ ì´ëŸ¬í•œ ì  ë•Œë¬¸ì— íŒ€ì›ë¶„ë“¤ê³¼ ë””ìì´ë„ˆë¶„ê»˜ ê°•ë ¥í•˜ê²Œ ì–´í•„í•˜ì—¬ Loading Skeletonì„ ëª¨ë‘ ì ìš©í•˜ì˜€ì—ˆëŠ”ë°, ë§ˆì°¬ê°€ì§€ë¡œ ì ìš©í–ˆë˜ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ë“£ê²Œë˜ì–´ ë†€ëë‹¤.

ë°œí‘œ ë‚´ìš©ì€ ë‘ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ êµì°¨í•˜ì—¬ ë¹›ë°˜ì‚¬ê°€ ì›€ì§ì´ëŠ” íš¨ê³¼ë¥¼ ì ìš©í•œ ê³¼ì •ì— ëŒ€í•´ ê°„ëµí•˜ê²Œ ì„¤ëª…í•´ ì£¼ì…¨ê³  `Shimmer` ë¼ëŠ” Packageë¥¼ ì‚¬ìš©í•˜ë©´ ë³´ë‹¤ ê°„í¸í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆìŒì„ ê³µìœ í•´ì£¼ì…¨ë‹¤.

í•˜ì§€ë§Œ, ë‘ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ êµì°¨í•˜ì§€ ì•Šì•„ë„ CustomPaintë¥¼ í™œìš©í•˜ë©´ ê°™ì€ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤. Gradient ë²”ìœ„ë¥¼ ì„¤ì •í•´ì£¼ë©´ ë²”ìœ„ ë°–ì˜ ìƒ‰ìƒì€ ê°€ì¥ ë°”ê¹¥ì— ì„¤ì •í•´ì¤€ ìƒ‰ìƒìœ¼ë¡œ í‘œì‹œë˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤.

### CustomScrollView + Dropdown

ë§ˆì§€ë§‰ ë°œí‘œë‚´ìš©ê¹Œì§€ë„ ì´ì „ì— Help í˜ì´ì§€ë¥¼ ì ìš©í•˜ë©° êµ¬í˜„í–ˆë˜ Scroller ì˜ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì™€ UIì— ì ìš©í•˜ëŠ”, ì´ë²ˆ íšŒì‚¬ì— ë“¤ì–´ì˜¤ê³  í•œë‹¬ë™ì•ˆ ëœ¯ì–´ ê³ ì³¤ë˜ UIë“¤ì— ëŒ€í•œ ë‚´ìš©ë“¤ì´ ëª¨ë‘ ë‚˜ì™€ì„œ ê¹œì§ ë†€ëë‹¤.. ì—­ì‹œ ì–´ëŠíšŒì‚¬ë‚˜ í•˜ëŠ” ì¼ë“¤ì€ ë¹„ìŠ·í•œ ê²ƒ ê°™ë‹¤.

ë°œí‘œìë¶„ì˜ ê²½ìš° í™”ë©´ ìŠ¤í¬ë¡¤ ì‹œ CustomScrollView ìœ„ì— í‘œì‹œí•´ì¤€ Overlayê°€ í™”ë©´ì´ ìŠ¤í¬ë¡¤ë  ë•Œ ê°™ì´ ì˜¬ë¼ê°€ëŠ” ë¬¸ì œê°€ ìˆì—ˆê³  ì´ë¥¼ Scrollbar offsetì„ ê°€ì ¸ì™€ ë†’ì´ë¥¼ ê³„ì† ì¶”ê°€í•´ì£¼ì–´ í•´ê²°í•œ ë‚´ìš©ì— ëŒ€í•´ ê³µìœ í•´ ì£¼ì—ˆë‹¤.

ì´ ë¶€ë¶„ì— ìˆì–´ì„œë„ `Flutter` ì˜ Overlay ìœ„ì ¯ì„ í™œìš©í•˜ë©´ `Main` ìœ„ì ¯ì„ ë¶€ëª¨ìš”ì†Œë¡œ ê°€ì§€ë¯€ë¡œ í•´ê²°ê°€ëŠ¥í•œ ë¬¸ì œì˜€ì§€ë§Œ, ìŠ¤í¬ë¡¤ë°”ì˜ offsetì„ ê°€ì ¸ì™€ì„œ ë‹¤ì–‘í•œ Interactionì„ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì€ ë§ì´ í™œìš©ë˜ë¯€ë¡œ ì–´ë–»ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ëŠ”ì§€ í¥ë¯¸ë¡­ê²Œ ë“¤ì—ˆë‹¤.

### ë””ìì´ë„ˆì™€ ì†Œí†µí•˜ê¸°

ë””ìì´ë„ˆë¶„ë“¤ê³¼ ë©”ì‹ ì €ë¥¼ í†µí•´ì„œ ì†Œí†µí•œ ë°©ë²•ë“¤ê³¼ ë‚´ìš©ë“¤ì— ëŒ€í•´ ê³µìœ í•´ì£¼ì…¨ë‹¤. ëª…í™•í•˜ê²Œ ì˜ê²¬ì„ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ë°©ë²•ì„ ì œê³µí•´ì£¼ì…¨ëŠ”ë° í•´ë‹¹ ë°©ë²•ë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

* ë‚´ê°€ ì´í•´í•œ ë°”ë¥¼ ì •í™•í•˜ê²Œ ê³µìœ í•˜ê¸°
* ì§ˆë¬¸í•  ë•ŒëŠ” ì´í•´ê°€ ì‰½ê²Œ ì‹œê° ìë£Œë¥¼ ì²¨ë¶€í•˜ê¸°
* ì„ íƒì´ í•„ìš”í•  ë•ŒëŠ” ê°€ëŠ¥í•œ ì˜µì…˜ì„ ë¨¼ì € ì œê³µí•˜ê¸°
* ë””ìì´ë„ˆì˜ ì˜ë„ì™€ ë™ì¼í•˜ê²Œ êµ¬í˜„í•˜ê¸° ìœ„í•´ ìµœì„ ì„ ë‹¤í•˜ê¸°

## í”ŒëŸ¬í„° ë Œë”ë§ í•´ë¶€í•™

Flutter Seoulì˜ ì˜¤ê±°ë‚˜ì´ì €ë¡œ í™œë™ ì¤‘ì´ì‹  ì—ì´ë“ ë‹˜ì˜ ë°œí‘œë¡œ í”Œë¡œí„° ìœ„ì ¯ì´ í™”ë©´ì— í‘œì‹œë  ë•Œ ì–´ë– í•œ ë°©ì‹ìœ¼ë¡œ ë Œë”ë§ì´ ë˜ëŠ”ì§€, Dart ì½”ë“œë¥¼ ëœ¯ì–´ë³´ë©° í™•ì¸í•´ë³´ë„ë¡ ìë£Œë¥¼ ì¤€ë¹„í•´ì£¼ì…¨ë‹¤. ì—ì´ë“ ë‹˜ì˜ ê²½ìš° Flutter ì›”ê°„ ì„¸ë¯¸ë‚˜ì—ì„œë„ Flutter Webì˜ Image ë Œë”ë§ì— ëŒ€í•œ ë°œí‘œë¥¼ ë“¤ì—ˆì—ˆëŠ”ë°, ë‘ ë‚´ìš© ëª¨ë‘ ì°¾ì•„ë³´ê¸° ê·€ì°®ê³  ìƒê°ë§Œí•´ë„ í”¼ê³¤í•œ ë‚´ìš©ë“¤ì„ ê¼¼ê¼¼íˆ ì˜ ì„¤ëª…í•´ì£¼ì…”ì„œ ë§ì€ ë„ì›€ì´ ë˜ì—ˆë‹¤.

### ëœë”ë§ ê³¼ì •

#### Widget

ìœ„ì ¯ì€ í”ŒëŸ¬í„°ë¥¼ ì‹œì‘í•  ë•Œ ê°€ì¥ ë¨¼ì € ì ‘í•˜ëŠ” í´ë˜ìŠ¤ì´ì, ê°œë°œ ê³¼ì •ì—ì„œ ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. í”ŒëŸ¬í„° ê°œë°œìì—ê²Œ ìˆì–´ ìœ„ì ¯ì€ ì•± ê°œë°œì˜ ê°€ì¥ í•µì‹¬ì ì¸ ìš”ì†Œë¼ê³  í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

í”ŒëŸ¬í„° ê³µì‹ ë¬¸ì„œë¥¼ ë³´ë©´ **Widget**ì€ `"Describes the configuration for an Element"` "Widgetì€ Elementì˜ êµ¬ì„±ì„ í‘œí˜„í•˜ëŠ” ê°ì²´" ë¼ê³  ì„¤ëª…í•œë‹¤. í•˜ì§€ë§Œ í”ŒëŸ¬í„° ê°œë°œìë“¤ ì‚¬ì´ì— ìœ„ì ¯ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì´ë³´ë‹¤ ë” ë„ë¦¬ ì•Œë ¤ì§„ ì„¤ëª…ì´ ìˆëŠ”ë° ë°”ë¡œ `"In Flutter, almost everything is a widget"`ì´ë‹¤. ì—¬ê¸°ì„œ í¥ë¯¸ë¡œìš´ ì ì€ `'almost everything'` 'ê±°ì˜ ëª¨ë“  ê²ƒ'ì´ë¼ëŠ” í‘œí˜„ì¸ë° ìœ„ì ¯ì„ **'ê±°ì˜ ëª¨ë“  ê²ƒ'**ì´ë¼ ì„¤ëª…í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ? ë˜ ê·¸ë ‡ë‹¤ë©´ ê±°ì˜ ëª¨ë“  ê²ƒì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ê²ƒë“¤ì€ ì–´ë–¤ ê²ƒë“¤ì´ ìˆì„ê¹Œ

**'Almost everything'**ì¸ Widget ë„ˆë¨¸, í™”ë©´ì„ ê·¸ë¦¬ëŠ” ìì„¸í•œ ê³¼ì •ì„ ì‚´í´ë³´ë©° ì´ë¥¼ ì•Œì•„ë³´ì

#### ColoredBox

í™”ë©´ì— ìƒ‰ì„ ì¹ í•˜ëŠ” ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ë¥¼ êµ¬í˜„í•˜ë ¤ í•œë‹¤. ìƒ‰ì„ ì¹ í•˜ëŠ”ë° í”íˆ ì‚¬ìš©ë˜ëŠ” `Container`ê°€ ì•„ë‹Œ `ColoredBox`ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ êµ¬í˜„í•´ë³´ì.

ì•„ë˜ëŠ” `ColoredBox` ìœ„ì ¯ì„ ì´ìš©í•´ ì‚¬ê°í˜•ì˜ Box ê³µê°„ì„ ë…¹ìƒ‰ìœ¼ë¡œ ì¹ í•˜ëŠ” ê°„ë‹¨í•œ ì½”ë“œì´ë‹¤. ë Œë”ë§ ê³¼ì •ì„ ì‚´í´ë³´ê¸° ìœ„í•´ `MaterialApp`ì´ë‚˜ `Scafford`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìœ„ì ¯íŠ¸ë¦¬ë¥¼ ê°„ë‹¨íˆ êµ¬ì„±í•˜ì˜€ë‹¤.

```dart title=ColoredBox
import 'package:flutter/material.dart';

void main() {
  runApp(
    const ColoredBox(
      color: Colors.green,
    ),
  );
}
```

![ColoredBox](./images/2024-10-29-future-flutter/flutter_rendering_1.png)

ColoredBox ìœ„ì ¯ì˜ ìƒì„±ìë¡œ ë…¹ìƒ‰ì„ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— ì‹¤í–‰í•˜ë©´ ë…¹ìƒ‰ìœ¼ë¡œ ê°€ë“ì°¬ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

widgetì— ëŒ€í•œ ì„¤ëª…ì„ ë‹¤ì‹œ í•œë²ˆ ë– ì˜¬ë ¤ë³´ì `"Describes the configuration for an Element"`, Widgetì€ Elementì˜ êµ¬ì„±ì„ í‘œí˜„í•˜ëŠ” ê°ì²´ì¼ ë¿ì´ë‹¤.

ë‹¤ìŒìœ¼ë¡œ Widgetì¸ ColoredBoxê°€ Elementë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•˜ëŠ”ì§€, ColoredBoxë¥¼ ëœ¯ì–´ë³´ë©° í™•ì¸í•´ë³´ì

```dart title=ColoredBox
class ColoredBox extends SingleChildrenderObjectWidget {
  @override
  RenderObject createRenderObject(BuildContext context) => _RenderColoredBox(color: color);
}

abstract class SingleChildRenderObjectWidget extends RenderObjectWidget {
  @override
  SingleChildRenderObjectElement createElement() => SingleChildRenderObjectElement(this);
}

abstract class RenderObjectWidget extends Widget {
}
```

ìœ„ ì½”ë“œë¥¼ í†µí•´ `ColoredBox` ìœ„ì ¯ì„ í™•ì¸í•´ë³´ë©´ `ColoredBox` ìœ„ì ¯ì€ `SingleChildRenderObjectWidget`ì„ í™•ì¥í•˜ê³  ìˆë‹¤. ë˜ `SingleChildRenderObjectWidget`ì€ `RenderObjectWidget`ì„ í™•ì¥í•˜ê³  ìˆê³ , `RenderObjectWidget`ì€ `Widget`ì„ í™•ì¥í•˜ê³  ìˆë‹¤. ì´ëŸ¬í•œ í´ë˜ìŠ¤ ê³„ì¸µì„ ë”°ë¼ê°€ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ `ColoredBox`ëŠ” `Widget`ì˜ êµ¬í˜„ì²´ì´ë‹¤.

ì´ë¥¼ í‘œë¡œ ê·¸ë ¤ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

![ColoredBox Diagram](./images/2024-10-29-future-flutter/flutter_rendering_2.png)

`ColoredBox`ê°€ ë Œë”ë§ë˜ëŠ” ìì„¸í•œ ê³¼ì •ì„ ì‚´í´ë³´ë ¤ë©´ `RenderObject`ë¥¼ ë°˜í™˜í•˜ëŠ” `createRenderObject`ì™€ `SingleChildRenderObjectElement`ë¥¼ ë°˜í™˜í•˜ëŠ” `createElement`ë¥¼ ì‚´í´ë´ì•¼í•œë‹¤.

ì•„ì§ì€ ë‘ ë©”ì†Œë“œê°€ ì–´ë–»ê²Œ í˜¸ì¶œë˜ëŠ”ì§€ ì•Œê¸° ì–´ë µê² ì§€ë§Œ, ì´ ë‚´ìš©ì„ ëª¨ë‘ ë³¸ í›„ì—ëŠ” ë‘ ë©”ì†Œë“œê°€ ë Œë”ë§ì— ì–´ë–»ê²Œ ê´€ì—¬í•˜ëŠ”ì§€ ëª¨ë‘ ì•Œê²Œë í…Œë‹ˆ ì§€ê¸ˆì€ `createRenderObject`ì™€ `createElement`ë¥¼ `Widget`ì—ì„œ ì˜¤ë²„ë¼ì´ë“œí•˜ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ê¸°ì–µí•œì²´ ë„˜ì–´ê°€ì.

#### Element

ì´ë²ˆì—ëŠ” `SingleChildRenderObjectWidget`ì´ ì˜¤ë²„ë¼ì´ë“œí•˜ê³  ìˆëŠ” `createElement`ê°€ ìƒì„±í•˜ëŠ” `Element`ì— ëŒ€í•´ ì‚´í´ë³´ì.

í”ŒëŸ¬í„° ê³µì‹ë¬¸ì„œë¥¼ ë³´ë©´ `Element` í´ë˜ìŠ¤ì— ëŒ€í•´ ì´ë ‡ê²Œ ì„¤ëª…í•œë‹¤. `"an instantiation of Widget at a particular location in the tree"`, `Element`ëŠ” íŠ¸ë¦¬ì˜ íŠ¹ì • ìœ„ì¹˜ì— ìˆëŠ” ìœ„ì ¯ì„ ì¸ìŠ¤í„´ìŠ¤ì´ë‹¤.

`Element`ì˜ ë™ì‘ì„ í™•ì¸í•˜ê¸° ìœ„í•´ `SingleChildRenderObjectWidget`ì˜ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ì.

```dart title=SingleChildRenderObjectWidget
abstract class SingleChildRenderObjectWidget extends RenderObjectWidget {
  @override
  SingleChildRenderObjectElement createElement() => SingleChildRenderObjectElement(this);
}
class SingleChildRenderObjectElement extends RenderObjectElement {
}
abstract class RenderObjectElement extends Element {
  RenderObject? _renderObject;
  @override
  void mount(Element? parent, Object? newSlot) {
    super.mount(parent, newSlot);
    _renderObject = (widget as RenderObjectWidget).createRenderObject(this);
    attachRenderObject(newSlot);
    super.performRebuilde();
  }
}
abstract class Element extends DiagnosticableTree implements BuildContext {
  Widget? _widget;
}
```

ì•ì„œ `ColoredBox` Widgetì´ í™•ì¥í•œ `SingleChildRenderObjectWidget`ì€ `createElement` ë©”ì†Œë“œë¥¼ í†µí•´ì„œ `SingleChildRenderObjectElement`ë¥¼ ìƒì„±í•˜ëŠ”ê±¸ ì‚´í´ë³´ì•˜ë‹¤. `SingleChildRenderObjectElement`ëŠ” `RenderObjectElement`ë¥¼ í™•ì¥í•˜ê³  ìˆê³ , `RenderObjectElement`ëŠ” `Element`ë¥¼ í™•ì¥í•˜ê³  ìˆë‹¤.

`Element`ëŠ” `BuildContext`ë¥¼ êµ¬í˜„í•œ ì¶”ìƒí´ë˜ìŠ¤ë¡œ `Widget`ì„ í”„ë¡œí¼í‹°ë¡œ ë“¤ê³ , í•„ìš”í•œ ì‹œì ì— `build` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤. ì´ë¥¼ í‘œì— ì¶”ê°€í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

![Widget Diagram](./images/2024-10-29-future-flutter/flutter_rendering_3.png)

`Element` í´ë˜ìŠ¤ì˜ ê³„ì¸µ ì¤‘ ë Œë”ë§ê³¼ ê´€ë ¨í•´ì„œ ì£¼ì˜ê¹Šê²Œ ì‚´í´ë³¼ ë¶€ë¶„ì€ `RenderObjectElement` í´ë˜ìŠ¤ì˜ `RenderObject` í”„ë¡œí¼í‹°ì™€ `mount` ë©”ì†Œë“œì´ë‹¤.

`mount`ê°€ í˜¸ì¶œë˜ë©´ `Widget`ì˜ `createRenderObject` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ í™”ë©´ì„ ê·¸ë¦¬ëŠ”ë° ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©ë  `RenderObject`ë¥¼ ìƒì„±í•œë‹¤. ìƒì„±ëœ `RenderObject`ëŠ” `attachRenderObject`ì— ì „ë‹¬í•´ ë Œë”ì˜¤ë¸Œì íŠ¸ì˜ íŠ¸ë¦¬ë¥¼ êµ¬ì„±í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ `mount` ë©”ì†Œë“œëŠ” ì–´ë–»ê²Œ í˜¸ì¶œë˜ëŠ” ê±¸ê¹Œ?

#### runApp

`mount`ê°€ í˜¸ì¶œë˜ëŠ” ê³¼ì •ì„ ì‚´í´ë³´ë ¤ë©´ ë¨¼ì €, Widget ë§Œí¼ ìµìˆ™í•œ `runApp` í•¨ìˆ˜ë¥¼ ì‚´í´ë´ì•¼í•œë‹¤. í”ŒëŸ¬í„° í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ `main` í•¨ìˆ˜ì—ì„œ `runApp` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œê°€ ìƒì„±ë˜ëŠ”ë°, ì´ `runApp`ì„ ë”°ë¼ê°€ë©´ `mount`ì— ë‹¤ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.

í”ŒëŸ¬í„° ê³µì‹ ë¬¸ì„œì—ì„œëŠ” `runApp` í•¨ìˆ˜ì— ëŒ€í•´ ì´ë ‡ê²Œ ì´ì•¼ê¸°í•œë‹¤. `"Inflate the given widget and attach it to the view"` `runApp` í•¨ìˆ˜ëŠ” í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬í•œ ìœ„ì ¯ì„ `inflate`í•˜ê³  `view`ì— ì¶”ê°€í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ `Widget`ì„ ì–´ë–»ê²Œ `inflate`í•˜ê³ , `view`ì— ì¶”ê°€í•˜ëŠ”ì§€ `runApp` í•¨ìˆ˜ì˜ ë‚´ë¶€ ë™ì‘ì„ ëœ¯ì–´ë³´ë©° í™•ì¸í•´ë³´ì.

```dart title=runApp
void runApp(Widget app) {
  final WidgetsBinding binding = WidgetsFlutterBinding.ensureInitialized();
  _runWidget(binding.wrapWithDefaultView(app), binding, 'runApp');
}

mixin WidgetsBinding on BindingBase, ServicesBinding, SchedulerBinding,
  GestureBinding, RendererBinding, SemanticsBinding {
  //...
  //...
  Widget wrapWithDefaultView(Widget rootWidget) {
    return View(
      view: platformDispatcher.implicitView!,
      deprecatedDoNotUseWillBeRemovedWithoutNoticePipelineOwner: pipelineOwner,
      deprecatedDoNotUseWillBeRemovedWithoutNoticeRenderViw: renderView,
      child: rootWidget,
    );
  }
}
```

## Flutter webì„ í™œìš©í•˜ì—¬ ì œí’ˆ ê°œë°œ í™˜ê²½ ê°œì„ í•˜ê¸°

## ì–´ëŠë‚  ê°‘ìê¸° ì•±ì´ í„°ì¡Œì„ ë•Œ

## Flutter Blocì„ ì œí’ˆ ê°œë°œì— ì•¼ë¬´ì§€ê²Œ ì ìš©í•˜ê¸°
