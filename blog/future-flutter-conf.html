<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">퓨처 플러터 컨퍼런스 후기 | Mylog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mooyeon-choi.github.io/blog/future-flutter-conf"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="퓨처 플러터 컨퍼런스 후기 | Mylog"><meta data-rh="true" name="description" content="소개"><meta data-rh="true" property="og:description" content="소개"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-10-29T12:47:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/mooyeon-choi"><meta data-rh="true" property="article:tag" content="Dart,Flutter,app"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mooyeon-choi.github.io/blog/future-flutter-conf"><link data-rh="true" rel="alternate" href="https://mooyeon-choi.github.io/blog/future-flutter-conf" hreflang="ko"><link data-rh="true" rel="alternate" href="https://mooyeon-choi.github.io/blog/future-flutter-conf" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mylog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mylog Atom Feed"><link rel="stylesheet" href="/assets/css/styles.6e3c4f52.css">
<script src="/assets/js/runtime~main.163bd1ca.js" defer="defer"></script>
<script src="/assets/js/main.5e0faec3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mylog</b></a><a class="navbar__item navbar__link" href="/docs/intro">개발 공부</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">기록</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mooyeon-choi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="최근 블로그 문서 둘러보기"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024-kwdc">2024 KWDC 톺아보기</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/future-flutter-conf">퓨처 플러터 컨퍼런스 후기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/apply-storybook">스토리북 적용기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/flutter-conference">플러터 컨퍼런스 리뷰</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-19-will-be-compiled">리액트가 컴파일될 예정입니다</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="소개"><header><h1 class="title_f1Hy" itemprop="headline">퓨처 플러터 컨퍼런스 후기</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-10-29T12:47:00.000Z" itemprop="datePublished">2024년 10월 29일</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mooyeon-choi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mooyeon-choi.png" alt="Mooyeon Choi" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mooyeon-choi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Mooyeon Choi</span></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="소개">소개<a href="#소개" class="hash-link" aria-label="소개에 대한 직접 링크" title="소개에 대한 직접 링크">​</a></h2>
<p>조금 늦었지만, 2024년 9월 28일 진행된 Flutter 컨퍼런스 Future Flutter에서 들었던 내용을 정리하고, 실제 회사에 적용해보며 겪었던 이슈들에 대한 내용을 정리한 글이다.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>목차</div><div class="admonitionContent_BuS1"><ol>
<li><a href="#ffi%EB%A1%9C-%EC%97%B0%EA%B2%B0%ED%95%98%EB%8A%94-%EA%B3%A0go%EC%99%80-%ED%94%8C%EB%9F%AC%ED%84%B0">FFI로 연결하는 고(Go)와 플러터</a></li>
<li><a href="#flutter-webrtc">Flutter WebRTC</a></li>
<li><a href="#shorebird-%EC%9E%91%EB%8F%99-%EB%B0%A9%EC%8B%9D">ShoreBird 작동 방식</a></li>
<li><a href="#%ED%92%8D%EC%84%B1%ED%95%9C-%EB%94%94%EC%9E%90%EC%9D%B8-%EC%9A%94%EC%B2%AD%EC%82%AC%ED%95%AD%EC%97%90-%EB%8C%80%EC%9D%91%ED%95%98%EA%B8%B0">풍성한 디자인 요청사항에 대응하기</a></li>
<li><a href="#%ED%94%8C%EB%9F%AC%ED%84%B0-%EB%A0%8C%EB%8D%94%EB%A7%81-%ED%95%B4%EB%B6%80%ED%95%99">플러터 렌더링 해부학</a></li>
<li><a href="#flutter-web%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-%EC%A0%9C%ED%92%88-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0">Flutter web을 활용하여 제품 개발 환경 개선하기</a></li>
<li><a href="#%EC%96%B4%EB%8A%90%EB%82%A0-%EA%B0%91%EC%9E%90%EA%B8%B0-%EC%95%B1%EC%9D%B4-%ED%84%B0%EC%A1%8C%EC%9D%84-%EB%95%8C">어느날 갑자기 앱이 터졌을 때</a></li>
<li><a href="#flutter-bloc%EC%9D%84-%EC%A0%9C%ED%92%88-%EA%B0%9C%EB%B0%9C%EC%97%90-%EC%95%BC%EB%AC%B4%EC%A7%80%EA%B2%8C-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">Flutter Bloc을 제품 개발에 야무지게 적용하기</a></li>
</ol></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ffi로-연결하는-고go와-플러터">FFI로 연결하는 고(Go)와 플러터<a href="#ffi로-연결하는-고go와-플러터" class="hash-link" aria-label="FFI로 연결하는 고(Go)와 플러터에 대한 직접 링크" title="FFI로 연결하는 고(Go)와 플러터에 대한 직접 링크">​</a></h2>
<p>멀티 플랫폼에 대응하는 앱을 만들기 위해 Go 언어와 플러터를 활용하며 기본적인 UI 디자인을 적용하며 고성능의 앱을 개발하는 방법에 대해 고민하며 적용한 내용에 대한 발표였다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="왜-go-인가">왜 Go 인가?<a href="#왜-go-인가" class="hash-link" aria-label="왜 Go 인가?에 대한 직접 링크" title="왜 Go 인가?에 대한 직접 링크">​</a></h3>
<p>고언어를 채택한 장점에는 크게 3가지의 이유가 있었다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="크로스-플랫폼-개발">크로스 플랫폼 개발<a href="#크로스-플랫폼-개발" class="hash-link" aria-label="크로스 플랫폼 개발에 대한 직접 링크" title="크로스 플랫폼 개발에 대한 직접 링크">​</a></h4>
<p>Windows, macOS, Linux 와 같은 다양한 운영체제와 x86, ARM 등의 아키텍쳐로 크로스 컴파일이 가능하여 보다 빠르게 다양한 플랫폼 지원을 간편하게 한다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="빠른-컴파일과-실행">빠른 컴파일과 실행<a href="#빠른-컴파일과-실행" class="hash-link" aria-label="빠른 컴파일과 실행에 대한 직접 링크" title="빠른 컴파일과 실행에 대한 직접 링크">​</a></h4>
<p>Go언어는 머신코드로 바로 컴파일 가능하기 때문에 고성능의 앱 개발에 유리하다. 실행속도가 빠를 뿐만아니라 컴파일 속도도 빨라, 수정사항을 빠르게 적용하여 테스트 가능하고 이로인해 개발 속도를 빠르게 가져갈 수 있다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="가벼움과-확장성">가벼움과 확장성<a href="#가벼움과-확장성" class="hash-link" aria-label="가벼움과 확장성에 대한 직접 링크" title="가벼움과 확장성에 대한 직접 링크">​</a></h4>
<p>고루틴과 채널이라 알려진 동시성 기능을 지원하여 많은 작업들을 성능저하 없이 동시에 처리 가능하다. 효율성과 확장성을 필요로하는 고성능 어플리케이션 개발에 이상적이다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="왜-플러터인가">왜 플러터인가?<a href="#왜-플러터인가" class="hash-link" aria-label="왜 플러터인가?에 대한 직접 링크" title="왜 플러터인가?에 대한 직접 링크">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="크로스-플랫폼-개발-1">크로스 플랫폼 개발<a href="#크로스-플랫폼-개발-1" class="hash-link" aria-label="크로스 플랫폼 개발에 대한 직접 링크" title="크로스 플랫폼 개발에 대 한 직접 링크">​</a></h4>
<p>하나의 코드 베이스로 안드로이드, IOS, Windows desktop, Web 등 여러 플랫폼 개발이 가능하다. 이로인해 적은 인원과 시간으로 다양한 플랫폼에 대응하는 App.을 개발할 수 있다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="유용한-개발도구">유용한 개발도구<a href="#유용한-개발도구" class="hash-link" aria-label="유용한 개발도구에 대한 직접 링크" title="유용한 개발도구에 대한 직접 링크">​</a></h4>
<p>플러터의 핫리로드, 핫리스타스 같은 기능과 유용한 개발 도구를 지원해 개발 속도를 빠르게 한다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="빠르고-아름다운-애플리케이션">빠르고 아름다운 애플리케이션<a href="#빠르고-아름다운-애플리케이션" class="hash-link" aria-label="빠르고 아름다운 애플리케이션에 대한 직접 링크" title="빠르고 아름다운 애플리케이션에 대한 직접 링크">​</a></h4>
<p>플러터는 자체적으로 기본적인 애니메이션과 인터렉션에 대한 처리가 되어있어 보다 간편하게 고퀄리티의 사용자 경험을 제공한다. 또한 각 플랫폼에 맞게 컴파일되어 효율적으로 동작하도록 해준다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ffi-란">FFI 란?<a href="#ffi-란" class="hash-link" aria-label="FFI 란?에 대한 직접 링크" title="FFI 란?에 대한 직접 링크">​</a></h3>
<p>Foreign Function Interface (FFI)는 C언어로 짜여진 함수를 다트나 플러터에서 사용하는 방법으로 플러터에서는 <code>dart:ffi</code> 패키지를 사용한다.</p>
<p>C뿐만 아니라 Go, C++, Rust 등의 <strong>C 인터페이스를 제공하는 언어</strong>라면 Dart에서 사용이 가능하다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="플러터에서-ffi-사용하기">플러터에서 FFI 사용하기<a href="#플러터에서-ffi-사용하기" class="hash-link" aria-label="플러터에서 FFI 사용하기에 대한 직접 링크" title="플러터에서 FFI 사용하기에 대한 직접 링크">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flutter create --platforms=android,ios,macos,windows,linux --template=plugin ffi native add</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 커맨드로 프로젝트를 생성하면 <code>lib</code>폴더 아래에 <code>Dart</code> 코드, <code>src</code> 폴더 아래에 <code>C</code> 코드가 생성된다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="고언어-라이브러리-생성하기">고언어 라이브러리 생성하기<a href="#고언어-라이브러리-생성하기" class="hash-link" aria-label="고언어 라이브러리 생성하기에 대한 직접 링크" title="고언어 라이브러리 생성하기에 대한 직접 링크">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="고언어-코드-작성">고언어 코드 작성<a href="#고언어-코드-작성" class="hash-link" aria-label="고언어 코드 작성에 대한 직접 링크" title="고언어 코드 작성에 대한 직접 링크">​</a></h5>
<ol>
<li>
<p><code>src</code>폴더 안에 <code>go.mod</code> 파일 생성</p>
<blockquote>
<p><strong><code>go.mod</code> 파일이란?</strong> 모듈 이름, 버전, 의존성 등을 정의하는 파일</p>
</blockquote>
</li>
<li>
<p><code>sum.go</code> 파일을 생성하고 고언어 코드를 작성</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// sum.go file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;C&quot;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// cgo 문법으로 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// export &lt;함수명&gt; 주석을 이용해서 sum이라는 함수를 C로 export</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// export sum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a C</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b C</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> C</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// C에서 사용해야하기 때문에 Go의</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b                        </span><span class="token comment" style="color:#999988;font-style:italic">// 타입이 아닌 C 타입으로 C.int 를 사용</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="고언어-라이브러리를-안드로이드용으로-컴파일">고언어 라이브러리를 안드로이드용으로 컴파일<a href="#고언어-라이브러리를-안드로이드용으로-컴파일" class="hash-link" aria-label="고언어 라이브러리를 안드로이드용으로 컴파일에 대한 직접 링크" title="고언어 라이브러리를 안드로이드용으로 컴파일에 대한 직접 링크">​</a></h4>
<p>최신 안드로이드 단말기들을 지원하기 위해서는 <code>arm64</code>와 <code>x86_64</code> 아키텍처를 지원하도록 크로스 컴파일 되어야함</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export ANDROID_OUT=../android/src/main/jniLibs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ANDROID_SDK=$HOME/Library/Android/sdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export NDK_BIN=$ANDROID_SDK/ndk/23.1.777.9620/toolchains/llvm/prebuilt/darwin-x86_64/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># x86_64 아키텍처로 컴파일 해서 android/src/main/jniLibs/x86_64 폴더에 libsum.so 생성</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CGO_ENABLED=1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOOS=android \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOARCH=and64 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CC=$NDK_BIN/x86_64-linux-android21-clang \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go build -buildmod=c-shared -o $ANDROID_OUT/x86_64/libsum.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># arm64 아키텍처로 컴파일 해서 android/src/main/jniLibs/arm64-v8a 폴더에 libsum.so 생성</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CGO_ENABLED=1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOOS=android \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOARCH=arm64 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CC=$NDK_BIN/aarch64-linux-android21-clang \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go build -buildmode=c-shared -o $ANDROID_OUT/arm64-v8a/libsum.so</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="고언어-라이브러리를-ios용으로-컴파일">고언어 라이브러리를 IOS용으로 컴파일<a href="#고언어-라이브러리를-ios용으로-컴파일" class="hash-link" aria-label="고언어 라이브러리를 IOS용으로 컴파일에 대한 직접 링크" title="고언어 라이브러리를 IOS용으로 컴파일에 대한 직접 링크">​</a></h4>
<p>기본적인 컨셉은 안드로이드용 빌드와 동일하나 약간의 추가과정이 필요함</p>
<ul>
<li>IOS는 static 라이브러리로 컴파일 해야함</li>
<li>시뮬레이터용 <code>arm64</code>와 <em><code>arm64</code> 빌드</em>와 <em>아이폰용 <code>arm64</code> 빌드</em>, 총 세개의 라이브러리로 컴파일</li>
<li>시뮬레이터용 라이브러리 두개를 통합하기 위해 lipo라는 도구를 사용</li>
<li>빌드된 모든 라이브러리를 <code>xframework</code>패키지로 통합</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="플러터에 서-사용하기">플러터에서 사용하기<a href="#플러터에서-사용하기" class="hash-link" aria-label="플러터에서 사용하기에 대한 직접 링크" title="플러터에서 사용하기에 대한 직접 링크">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ffigen을-사용해서-바인딩-만들기">FFIgen을 사용해서 바인딩 만들기<a href="#ffigen을-사용해서-바인딩-만들기" class="hash-link" aria-label="FFIgen을 사용해서 바인딩 만들기에 대한 직접 링크" title="FFIgen을 사용해서 바인딩 만들기에 대한 직접 링크">​</a></h4>
<p><code>C</code>라이브러리를 <code>Dart</code> 코드에서 사용할 수 있게 하는 바인딩을 <code>ffigen</code>이라는 도구를 이용해서 자동생성. <code>ffigen</code>을 돌리기 위해 <code>ffigen yaml</code> 작성</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Run with `flutter pub run ffigen --config ffigen.yaml`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NativeLibrary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Bindings to `src/sum.h`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">output</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `lib/generated_bindings.dart`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">entry-points</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">`src/libsum.h`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">preamble</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  // ignore_for_file: always_specify_types</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  // ignore_for_file: camel_case_types</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  // ignore_for_file: non_constant_identifier_names</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  // ignore_for_file: unused_field</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  // ignore_for_file: unused_element</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">comments</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">style</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">lenght</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> full</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="다트코드에서-사용하기">다트코드에서 사용하기<a href="#다트코드에서-사용하기" class="hash-link" aria-label="다트코드에서 사용하기에 대한 직접 링크" title="다트코드에서 사용하기에 대한 직접 링크">​</a></h4>
<p>이제 라이브러리를 다트에서 로드하고 <code>generated_bindings.dart</code> 파일에 <code>C</code> 함수로 바인딩된 다트 함수를 호출 가능</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// lib/native_add.dart</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;dart:ffi&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;dart:io&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;generated_bindings.dart&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> int b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> _bindings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> _libName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;native_add&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// The dynamic library in which the symbols for {NativeAddBindings} can be found.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">DynamicLibrary</span><span class="token plain"> _dylib </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Platform</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isAndroid </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token class-name">Platform</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isLinux</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token class-name">DynamicLibrary</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&#x27;libsum.so&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token class-name">UnsupportedError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&#x27;Unknown platform: </span><span class="token string-literal interpolation punctuation" style="color:#393A34">${</span><span class="token string-literal interpolation expression class-name">Platform</span><span class="token string-literal interpolation expression punctuation" style="color:#393A34">.</span><span class="token string-literal interpolation expression">operatingSystem</span><span class="token string-literal interpolation punctuation" style="color:#393A34">}</span><span class="token string-literal string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// The bindings to the native functions in [_dylib].</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">NativeLibrary</span><span class="token plain"> _bindings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">NativeLibrary</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_dylib</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="정리">정리<a href="#정리" class="hash-link" aria-label="정리에 대한 직접 링크" title="정리에 대한 직접 링크">​</a></h3>
<ul>
<li><code>C</code> 인터페이스를 제공하는 언어라면 <code>Dart</code>에서 <strong>FFI</strong>를 통해 사용 가능함</li>
<li><code>ffigen</code>을 이용하면 <code>.h</code>를 읽어 자동으로 바인딩 코드를 생성해줌</li>
<li><code>Go</code> 언어의 크로스 컴파일러를 이용해 쉽게 크로스 플랫폼 라이브러리 생성 가능</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>title=Next Step</div><div class="admonitionContent_BuS1"><ul>
<li>IOS / macOS / Windows / Linux 등 안드로이드 외 다른 플랫폼 빌드<!-- -->
<ul>
<li>예시는 Android / IOS / macOS 까지만 동작</li>
</ul>
</li>
<li>웹에서도 동작하도록 빌드 (힌트: WebAssembly)</li>
<li>메모리 공유나 비동기 처리등의 고급 사용예제</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flutter-webrtc">Flutter WebRTC<a href="#flutter-webrtc" class="hash-link" aria-label="Flutter WebRTC에 대한 직접 링크" title="Flutter WebRTC에 대한 직접 링크">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="shorebird-작동-방식">ShoreBird 작동 방식<a href="#shorebird-작동-방식" class="hash-link" aria-label="ShoreBird 작동 방식에 대한 직접 링크" title="ShoreBird 작동 방식에 대한 직접 링크">​</a></h2>
<p>멀티 플랫폼 모바일 애플리케이션 개발을 위해 많이 사용되는 프레임워크 하면 ReactNative, Flutter 와 같은 프레임워크들이 생각날 것이다. RN(ReactNative) 하면 여러 기능중 단연 <strong>Code Push</strong> 를 먼저 떠올릴 수 있는데, <code>Flutter</code> 에서 <code>Code push</code> 를 적용하기 위해 만들어진 서비스인 <code>Shorebird</code>에 대해 알아보자.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-push란">Code push란?<a href="#code-push란" class="hash-link" aria-label="Code push란?에 대한 직접 링크" title="Code push란?에 대한 직접 링크">​</a></h3>
<ul>
<li>
<p>코드 수정 시 디바이스에서 업데이트를 하지 않아도 지속적으로 사용자가 변경사항을 가져올 수 있다</p>
</li>
<li>
<p>대부분의 큰 애플리케이션들은 <code>Code push</code>를 사용중이다.</p>
<ul>
<li><em>Large install base = long store update time</em> 이므로</li>
</ul>
</li>
<li>
<p>비즈니스에서 현실적인 문제들</p>
<ul>
<li>Downtime = lost revenue</li>
<li>Code push = insurance you can fix things quickly if they go wrong</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="풍성한-디자인-요청사항에-대응하기">풍성한 디자인 요청사항에 대응하기<a href="#풍성한-디자인-요청사항에-대응하기" class="hash-link" aria-label="풍성한 디자인 요청사항에 대응하기에 대한 직접 링크" title="풍성한 디자인 요청사항에 대응하기에 대한 직접 링크">​</a></h2>
<p>LINE 2년차 주니어 개발자로 일하면서 플러터를 사용하여 여러 디자인 요구사항들을 해결한 경험들을 공유한 시간이었다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custompaint를-활용한-container">CustomPaint를 활용한 Container<a href="#custompaint를-활용한-container" class="hash-link" aria-label="CustomPaint를 활용한 Container에 대한 직접 링크" title="CustomPaint를 활용한 Container에 대한 직접 링크">​</a></h3>
<p>다양한 모양의 컨테이너를 생성하기 위해 CustomPaint를 사용하여 오각형의 도형을 만들며 동적으로 수정할 수 있도록 변경한 방법들에 대해 공유해주셨다.</p>
<p><code>CustomPaint</code> 의 경우 Flutter 에서 매우 중요하게 활용된다. 특히 Interactive 한 화면을 디자인하기 위해 Animation 효과를 적용할 때 Svg 파일을 CustomPaint로 변환하면서 특히 많이 활용이 되는데, 현재 회사에서 apple의 <a href="https://developer.apple.com/sf-symbols/" target="_blank" rel="noopener noreferrer">SF Symbols</a>와 유사하게 아이콘들을 커스텀 가능하게 수정하는 작업을 하며 보고있던 부분이라 반가운 주제였다.</p>
<p>발표내용은 간단한 path 를 생성하는 방법을 공유해주는 조금 쉬운 내용이었지만, <code>Flutter</code>를 처음 접하며 겪었던 고민들과 같은 고민을 해봤던 개발자 동료를 만나 반가웠다.</p>
<p>추가로 <code>CustomPaint</code> 의 경우 <code>Flutter</code> 팀에서 <code>SVG</code> 를 대체하기 위해 최적화를 신경써서 좋은 성능으로 화면에 아이콘이나 벡터이미지를 생성할 수 있게 해주었는데, 이와 관련하여 <a href="https://www.youtube.com/watch?v=w9lD35D78N8" target="_blank" rel="noopener noreferrer">Youtube</a>에서 설명한 내용도 참고하자</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="loading-skeleton">Loading Skeleton<a href="#loading-skeleton" class="hash-link" aria-label="Loading Skeleton에 대한 직접 링크" title="Loading Skeleton에 대한 직접 링크">​</a></h3>
<p>최근 로딩화면을 단순히 Circular Loader로 구현하지 않고 사용자로 하여금 어떤 자료들이 보여질지 예측이 가능하도록 디자인하는 Skeleton Design을 많이 적용하고 있는 것으로 알고있다. 현재 회사에서도 이러한 점 때문에 팀원분들과 디자이너분께 강력하게 어필하여 Loading Skeleton을 모두 적용하였었는데, 마찬가지로 적용했던 내용과 같은 것을 듣게되어 놀랐다.</p>
<p>발표 내용은 두개의 컨테이너를 교차하여 빛반사가 움직이는 효과를 적용한 과정에 대해 간략하게 설명해 주셨고 <code>Shimmer</code> 라는 Package를 사용하면 보다 간편하게 적용할 수 있음을 공유해주셨다.</p>
<p>하지만, 두개의 컨테이너를 교차하지 않아도 CustomPaint를 활용하면 같은 효과를 낼 수 있다. Gradient 범위를 설정해주면 범위 밖의 색상은 가장 바깥에 설정해준 색상으로 표시되기 때문에 동일한 효과를 낼 수 있다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customscrollview--dropdown">CustomScrollView + Dropdown<a href="#customscrollview--dropdown" class="hash-link" aria-label="CustomScrollView + Dropdown에 대한 직접 링크" title="CustomScrollView + Dropdown에 대한 직접 링크">​</a></h3>
<p>마지막 발표내용까지도 이전에 Help 페이지를 적용하며 구현했던 Scroller 의 위치를 가져와 UI에 적용하는, 이번 회사에 들어오고 한달동안 뜯어 고쳤던 UI들에 대한 내용들이 모두 나와서 깜짝 놀랐다.. 역시 어느회사나 하는 일들은 비슷한 것 같다.</p>
<p>발표자분의 경우 화면 스크롤 시 CustomScrollView 위에 표시해준 Overlay가 화면이 스크롤될 때 같이 올라가는 문제가 있었고 이를 Scrollbar offset을 가져와 높이를 계속 추가해주어 해결한 내용에 대해 공유해 주었다.</p>
<p>이 부분에 있어서도 <code>Flutter</code> 의 Overlay 위젯을 활용하면 <code>Main</code> 위젯을 부모요소로 가지므로 해결가능한 문제였지만, 스크롤바의 offset을 가져와서 다양한 Interaction을 구현하는 방식은 많이 활용되므로 어떻게 코드를 작성하였는지 흥미롭게 들었다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="디자이너와-소통하기">디자이너와 소통하기<a href="#디자이너와-소통하기" class="hash-link" aria-label="디자이너와 소통하기에 대한 직접 링크" title="디자이너와 소통하기에 대한 직접 링크">​</a></h3>
<p>디자이너분들과 메신저를 통해서 소통한 방법들과 내용들에 대해 공유해주셨다. 명확하게 의견을 주고받을 수 있도록 다양한 방법을 제공해주셨는데 해당 방법들은 다음과 같다.</p>
<ul>
<li>내가 이해한 바를 정확하게 공유하기</li>
<li>질문할 때는 이해가 쉽게 시각 자료를 첨부하기</li>
<li>선택이 필요할 때는 가능한 옵션을 먼저 제공하기</li>
<li>디자이너의 의도와 동일하게 구현하기 위해 최선을 다하기</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="플러터-렌더링-해부학">플러터 렌더링 해부학<a href="#플러터-렌더링-해부학" class="hash-link" aria-label="플러터 렌더링 해부학에 대한 직접 링크" title="플러터 렌더링 해 부학에 대한 직접 링크">​</a></h2>
<p>Flutter Seoul의 오거나이저로 활동 중이신 에이든님의 발표로 플로터 위젯이 화면에 표시될 때 어떠한 방식으로 렌더링이 되는지, Dart 코드를 뜯어보며 확인해보도록 자료를 준비해주셨다. 에이든님의 경우 Flutter 월간 세미나에서도 Flutter Web의 Image 렌더링에 대한 발표를 들었었는데, 두 내용 모두 찾아보기 귀찮고 생각만해도 피곤한 내용들을 꼼꼼히 잘 설명해주셔서 많은 도움이 되었다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="랜더링-과정">랜더링 과정<a href="#랜더링-과정" class="hash-link" aria-label="랜더링 과정에 대한 직접 링크" title="랜더링 과정에 대한 직접 링크">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flutter-web을-활용하여-제품-개발-환경-개선하기">Flutter web을 활용하여 제품 개발 환경 개선하기<a href="#flutter-web을-활용하여-제품-개발-환경-개선하기" class="hash-link" aria-label="Flutter web을 활용하여 제품 개발 환경 개선하기에 대한 직접 링크" title="Flutter web을 활용하여 제품 개발 환경 개선하기에 대한 직접 링크">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="어느날-갑자기-앱이-터졌을-때">어느날 갑자기 앱이 터졌을 때<a href="#어느날-갑자기-앱이-터졌을-때" class="hash-link" aria-label="어느날 갑자기 앱이 터졌을 때에 대한 직접 링크" title="어느날 갑자기 앱이 터졌을 때에 대한 직접 링크">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flutter-bloc을-제품-개발에-야무지게-적용하기">Flutter Bloc을 제품 개발에 야무지게 적용하기<a href="#flutter-bloc을-제품-개발에-야무지게-적용하기" class="hash-link" aria-label="Flutter Bloc을 제품 개발에 야무지게 적용하기에 대한 직접 링크" title="Flutter Bloc을 제품 개발에 야 무지게 적용하기에 대한 직접 링크">​</a></h2></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>태그:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/dart">Dart</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/flutter">Flutter</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/app">app</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/mooyeon-choi/mooyeon-choi.github.io/tree/master/blog/2024-10-29-future-flutter-conf.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="블로그 게시물 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024-kwdc"><div class="pagination-nav__sublabel">이전 게시물</div><div class="pagination-nav__label">2024 KWDC 톺아보기</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/apply-storybook"><div class="pagination-nav__sublabel">다음 게시물</div><div class="pagination-nav__label">스토리북 적용기</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#소개" class="table-of-contents__link toc-highlight">소개</a></li><li><a href="#ffi로-연결하는-고go와-플러터" class="table-of-contents__link toc-highlight">FFI로 연결하는 고(Go)와 플러터</a><ul><li><a href="#왜-go-인가" class="table-of-contents__link toc-highlight">왜 Go 인가?</a></li><li><a href="#왜-플러터인가" class="table-of-contents__link toc-highlight">왜 플러터인가?</a></li><li><a href="#ffi-란" class="table-of-contents__link toc-highlight">FFI 란?</a></li><li><a href="#플러터에서-ffi-사용하기" class="table-of-contents__link toc-highlight">플러터에서 FFI 사용하기</a></li><li><a href="#플러터에서-사용하기" class="table-of-contents__link toc-highlight">플러터에서 사용하기</a></li><li><a href="#정리" class="table-of-contents__link toc-highlight">정리</a></li></ul></li><li><a href="#flutter-webrtc" class="table-of-contents__link toc-highlight">Flutter WebRTC</a></li><li><a href="#shorebird-작동-방식" class="table-of-contents__link toc-highlight">ShoreBird 작동 방식</a><ul><li><a href="#code-push란" class="table-of-contents__link toc-highlight">Code push란?</a></li></ul></li><li><a href="#풍성한-디자인-요청사항에-대응하기" class="table-of-contents__link toc-highlight">풍성한 디자인 요청사항에 대응하기</a><ul><li><a href="#custompaint를-활용한-container" class="table-of-contents__link toc-highlight">CustomPaint를 활용한 Container</a></li><li><a href="#loading-skeleton" class="table-of-contents__link toc-highlight">Loading Skeleton</a></li><li><a href="#customscrollview--dropdown" class="table-of-contents__link toc-highlight">CustomScrollView + Dropdown</a></li><li><a href="#디자이너와-소통하기" class="table-of-contents__link toc-highlight">디자이너와 소통하기</a></li></ul></li><li><a href="#플러터-렌더링-해부학" class="table-of-contents__link toc-highlight">플러터 렌더링 해부학</a><ul><li><a href="#랜더링-과정" class="table-of-contents__link toc-highlight">랜더링 과정</a></li></ul></li><li><a href="#flutter-web을-활용하여-제품-개발-환경-개선하기" class="table-of-contents__link toc-highlight">Flutter web을 활용하여 제품 개발 환경 개선하기</a></li><li><a href="#어느날-갑자기-앱이-터졌을-때" class="table-of-contents__link toc-highlight">어느날 갑자기 앱이 터졌을 때</a></li><li><a href="#flutter-bloc을-제품-개발에-야무지게-적용하기" class="table-of-contents__link toc-highlight">Flutter Bloc을 제품 개발에 야무지게 적용하기</a></li></ul></div></div></div></div></div></div>
</body>
</html>