"use strict";(self.webpackChunkmylog=self.webpackChunkmylog||[]).push([[7582],{9751:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var s=t(4668),r=t(4848),i=t(8453),o=t(1470),a=t(9365);const l={slug:"onnx-on-web",title:"Onnx web runtime \uad6c\ucd95\ud558\uae30 with Vite",authors:"mooyeon",tags:["web","onnx","vit"],date:"2025-07-28T20:25"},c="Onnx web runtime \uad6c\ucd95\ud558\uae30 with Vite",d={authorsImageUrls:[void 0]},u=[{value:"\uc18c\uac1c",id:"\uc18c\uac1c",level:2},{value:"\ubc30\uacbd",id:"\ubc30\uacbd",level:2},{value:"Get Started",id:"get-started",level:2},{value:"JavaScript import statement",id:"javascript-import-statement",level:3},{value:"Install",id:"install",level:4},{value:"Import",id:"import",level:4},{value:"HTML script tag",id:"html-script-tag",level:3},{value:"Import",id:"import-1",level:4},{value:"\uc0ac\uc6a9\ubc95",id:"\uc0ac\uc6a9\ubc95",level:4},{value:"\uc608\uc2dc",id:"\uc608\uc2dc",level:5},{value:"\ubaa8\ub378 \ub85c\ub4dc \ubc0f \ucd94\ub860 \uc2e4\ud589",id:"\ubaa8\ub378-\ub85c\ub4dc-\ubc0f-\ucd94\ub860-\uc2e4\ud589",level:2},{value:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95",id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",level:3},{value:"\uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac \uc608\uc81c",id:"\uc774\ubbf8\uc9c0-\uc804\ucc98\ub9ac-\uc608\uc81c",level:3},{value:"\uc644\uc804\ud55c \uc0ac\uc6a9 \uc608\uc81c",id:"\uc644\uc804\ud55c-\uc0ac\uc6a9-\uc608\uc81c",level:3},{value:"\ubc31\uc5d4\ub4dc \uc120\ud0dd \uac00\uc774\ub4dc",id:"\ubc31\uc5d4\ub4dc-\uc120\ud0dd-\uac00\uc774\ub4dc",level:2},{value:"WebGPU \ubc31\uc5d4\ub4dc",id:"webgpu-\ubc31\uc5d4\ub4dc",level:3},{value:"WebGL \ubc31\uc5d4\ub4dc",id:"webgl-\ubc31\uc5d4\ub4dc",level:3},{value:"WASM \ubc31\uc5d4\ub4dc",id:"wasm-\ubc31\uc5d4\ub4dc",level:3},{value:"\uc131\ub2a5 \ube44\uad50",id:"\uc131\ub2a5-\ube44\uad50",level:3},{value:"\uc801\uc751\ud615 \ubc31\uc5d4\ub4dc \uc120\ud0dd",id:"\uc801\uc751\ud615-\ubc31\uc5d4\ub4dc-\uc120\ud0dd",level:3},{value:"\ubaa8\ub378 \uce90\uc2f1 \ubc0f \ubc84\uc804 \uad00\ub9ac",id:"\ubaa8\ub378-\uce90\uc2f1-\ubc0f-\ubc84\uc804-\uad00\ub9ac",level:2},{value:"IndexedDB\ub97c \uc774\uc6a9\ud55c \ubaa8\ub378 \uce90\uc2f1",id:"indexeddb\ub97c-\uc774\uc6a9\ud55c-\ubaa8\ub378-\uce90\uc2f1",level:3},{value:"\ubaa8\ub378 \ubc84\uc804 \uad00\ub9ac",id:"\ubaa8\ub378-\ubc84\uc804-\uad00\ub9ac",level:3},{value:"\uc0ac\uc6a9 \uc608\uc81c",id:"\uc0ac\uc6a9-\uc608\uc81c",level:3},{value:"\uce90\uc2dc \uad00\ub9ac \uc804\ub7b5",id:"\uce90\uc2dc-\uad00\ub9ac-\uc804\ub7b5",level:3},{value:"\uc2e4\uc81c Vision AI \ubaa8\ub378 \uc801\uc6a9 \uc608\uc81c",id:"\uc2e4\uc81c-vision-ai-\ubaa8\ub378-\uc801\uc6a9-\uc608\uc81c",level:2},{value:"MobileNet\uc744 \uc774\uc6a9\ud55c \uc774\ubbf8\uc9c0 \ubd84\ub958",id:"mobilenet\uc744-\uc774\uc6a9\ud55c-\uc774\ubbf8\uc9c0-\ubd84\ub958",level:3},{value:"YOLO\ub97c \uc774\uc6a9\ud55c \uac1d\uccb4 \ud0d0\uc9c0",id:"yolo\ub97c-\uc774\uc6a9\ud55c-\uac1d\uccb4-\ud0d0\uc9c0",level:3},{value:"\uc0ac\uc6a9 \uc608\uc81c",id:"\uc0ac\uc6a9-\uc608\uc81c-1",level:3},{value:"\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \uba54\ubaa8\ub9ac \uad00\ub9ac",id:"\uc131\ub2a5-\ucd5c\uc801\ud654-\ubc0f-\uba54\ubaa8\ub9ac-\uad00\ub9ac",level:2},{value:"\ubaa8\ub378 \ucd5c\uc801\ud654 \uae30\ubc95",id:"\ubaa8\ub378-\ucd5c\uc801\ud654-\uae30\ubc95",level:3},{value:"\uba54\ubaa8\ub9ac \uad00\ub9ac \uc804\ub7b5",id:"\uba54\ubaa8\ub9ac-\uad00\ub9ac-\uc804\ub7b5",level:3},{value:"\ubc30\uce58 \ucc98\ub9ac \ucd5c\uc801\ud654",id:"\ubc30\uce58-\ucc98\ub9ac-\ucd5c\uc801\ud654",level:3},{value:"\uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1",id:"\uc131\ub2a5-\ubaa8\ub2c8\ud130\ub9c1",level:3},{value:"\ucd5c\uc801\ud654 \uc801\uc6a9 \uc608\uc81c",id:"\ucd5c\uc801\ud654-\uc801\uc6a9-\uc608\uc81c",level:3},{value:"\uc5d0\ub7ec \ucc98\ub9ac \ubc0f \ub514\ubc84\uae45",id:"\uc5d0\ub7ec-\ucc98\ub9ac-\ubc0f-\ub514\ubc84\uae45",level:2},{value:"\uc77c\ubc18\uc801\uc778 \uc5d0\ub7ec \uc720\ud615\uacfc \ud574\uacb0 \ubc29\ubc95",id:"\uc77c\ubc18\uc801\uc778-\uc5d0\ub7ec-\uc720\ud615\uacfc-\ud574\uacb0-\ubc29\ubc95",level:3},{value:"\uac15\ub825\ud55c \uc5d0\ub7ec \ucc98\ub9ac\ub97c \uac00\uc9c4 \ubaa8\ub378 \ub798\ud37c",id:"\uac15\ub825\ud55c-\uc5d0\ub7ec-\ucc98\ub9ac\ub97c-\uac00\uc9c4-\ubaa8\ub378-\ub798\ud37c",level:3},{value:"\ub514\ubc84\uae45 \ub3c4\uad6c",id:"\ub514\ubc84\uae45-\ub3c4\uad6c",level:3},{value:"\ud1b5\ud569 \ub514\ubc84\uae45 \uc608\uc81c",id:"\ud1b5\ud569-\ub514\ubc84\uae45-\uc608\uc81c",level:3},{value:"\uc2e4\uc6a9\uc801\uc778 \ud2b8\ub7ec\ube14\uc288\ud305 \uccb4\ud06c\ub9ac\uc2a4\ud2b8",id:"\uc2e4\uc6a9\uc801\uc778-\ud2b8\ub7ec\ube14\uc288\ud305-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",level:3},{value:"\ub9c8\ubb34\ub9ac",id:"\ub9c8\ubb34\ub9ac",level:2},{value:"\uc8fc\uc694 \ud3ec\uc778\ud2b8 \uc694\uc57d",id:"\uc8fc\uc694-\ud3ec\uc778\ud2b8-\uc694\uc57d",level:3}];function h(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"\uc18c\uac1c",children:"\uc18c\uac1c"}),"\n",(0,r.jsx)(e.p,{children:"Vission AI\ub97c \uc0ac\uc6a9\uc790 \ub85c\uceec \ud658\uacbd\uc5d0\uc11c \uc2e4\ud589\ud558\uae30 \uc704\ud574 WebGPU, WebGL, WASM\uc744 \ud1b5\ud574 Web\ud658\uacbd\uc5d0\uc11c AI Model\uc744 \uc2e4\ud589\ud55c \ubc29\ubc95\ub4e4\uacfc Model\uc744 \uce90\uc2f1\ud558\uba70 \ubc84\uc804\uad00\ub9ac\ub97c \ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \uc791\uc131\ud558\uc600\ub2e4."}),"\n",(0,r.jsx)(e.admonition,{title:"\ubaa9\ucc28",type:"info",children:(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EB%B0%B0%EA%B2%BD",children:"\ubc30\uacbd"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#get-started",children:"Get Started"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EB%AA%A8%EB%8D%B8-%EB%A1%9C%EB%93%9C-%EB%B0%8F-%EC%B6%94%EB%A1%A0-%EC%8B%A4%ED%96%89",children:"\ubaa8\ub378 \ub85c\ub4dc \ubc0f \ucd94\ub860 \uc2e4\ud589"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EB%B0%B1%EC%97%94%EB%93%9C-%EC%84%A0%ED%83%9D-%EA%B0%80%EC%9D%B4%EB%93%9C",children:"\ubc31\uc5d4\ub4dc \uc120\ud0dd \uac00\uc774\ub4dc"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EB%AA%A8%EB%8D%B8-%EC%BA%90%EC%8B%B1-%EB%B0%8F-%EB%B2%84%EC%A0%84-%EA%B4%80%EB%A6%AC",children:"\ubaa8\ub378 \uce90\uc2f1 \ubc0f \ubc84\uc804 \uad00\ub9ac"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EC%8B%A4%EC%A0%9C-vision-ai-%EB%AA%A8%EB%8D%B8-%EC%A0%81%EC%9A%A9-%EC%98%88%EC%A0%9C",children:"\uc2e4\uc81c Vision AI \ubaa8\ub378 \uc801\uc6a9 \uc608\uc81c"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%B0%8F-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%AC",children:"\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \uba54\ubaa8\ub9ac \uad00\ub9ac"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EC%97%90%EB%9F%AC-%EC%B2%98%EB%A6%AC-%EB%B0%8F-%EB%94%94%EB%B2%84%EA%B9%85",children:"\uc5d0\ub7ec \ucc98\ub9ac \ubc0f \ub514\ubc84\uae45"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#%EB%A7%88%EB%AC%B4%EB%A6%AC",children:"\ub9c8\ubb34\ub9ac"})}),"\n"]})}),"\n",(0,r.jsx)(e.h2,{id:"\ubc30\uacbd",children:"\ubc30\uacbd"}),"\n",(0,r.jsx)(e.h2,{id:"get-started",children:"Get Started"}),"\n",(0,r.jsxs)(e.p,{children:["ONNX Runtime Web\uc744 \uc801\uc6a9\ud558\ub294 \ubc29\ubc95\uc73c\ub85c ",(0,r.jsx)(e.a,{href:"https://onnxruntime.ai/",children:"\uacf5\uc2dd\uc0ac\uc774\ud2b8"}),"\uc5d0\uc11c\ub294 \uc544\ub798\uc758 \ubc29\ubc95\ub4e4\uc744 \uc18c\uac1c\ud55c\ub2e4."]}),"\n",(0,r.jsx)(e.h3,{id:"javascript-import-statement",children:"JavaScript import statement"}),"\n",(0,r.jsx)(e.h4,{id:"install",children:"Install"}),"\n",(0,r.jsxs)(o.A,{children:[(0,r.jsx)(a.A,{value:"npm",label:"npm",default:!0,children:(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# install latest release version\nnpm install onnxruntime-web\n\n# install nightly build dev version\nnpm install onnxruntime-web@dev\n"})})}),(0,r.jsx)(a.A,{value:"yarn",label:"yarn",children:(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# install latest release version\nyarn add onnxruntime-web\n\n# install nightly build dev version\nyarn add onnxruntime-web@dev\n"})})})]}),"\n",(0,r.jsx)(e.h4,{id:"import",children:"Import"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'import * as ort from "onnxruntime-web";\n'})}),"\n",(0,r.jsx)(e.p,{children:"\ud558\uc9c0\ub9cc \uc704 \ubc29\ubc95\ub300\ub85c\ub9cc \uc801\uc6a9\ud55c\ub2e4\uba74"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"no available backend found. ERR: [webgpu] RuntimeError: Aborted(both async and sync fetching of the wasm failed). Build with -sASSERTIONS for more info., [webgl] backend not found., [wasm] Error: previous call to 'initWasm()' failed.\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\uc640 \uac19\uc774 ",(0,r.jsx)(e.code,{children:"no available backend found"})," \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud55c\ub2e4. \ud604\uc7ac \ud504\ub85c\uc81d\ud2b8 \ud658\uacbd\uc740 ",(0,r.jsx)(e.code,{children:"React Router V7 + Vite"})," \uc774\ubbc0\ub85c \uc774\uc5d0 \ucd94\uac00\uc801\uc778 \uc124\uc815\uc774 \ud544\uc694\ud558\ub2e4"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'...\nexport default defineConfig({\n  ...\n  ...\n  assetsInclude: ["**/*.onnx"],\n  optimizeDeps: {\n    exclude: ["onnxruntime-web"],\n  },\n});\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:'assetsInclude: ["**/*.onnx"]'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:".onnx"})," \ud30c\uc77c\uc744 \uc815\uc801 \uc790\uc0b0(asset)\uc73c\ub85c \ucc98\ub9ac"]}),"\n",(0,r.jsxs)(e.li,{children:["\ud574\ub2f9 \ud30c\uc77c\ub4e4\uc740 \ube4c\ub4dc \uc2dc ",(0,r.jsx)(e.code,{children:"dist/"})," \ud3f4\ub354\ub85c \ubcf5\uc0ac\ub418\uace0 URL\uc744 \ud1b5\ud574 \uc811\uadfc \uac00\ub2a5"]}),"\n",(0,r.jsxs)(e.li,{children:["\ubaa8\ub378 \ud30c\uc77c\uc744 ",(0,r.jsx)(e.code,{children:"import"})," \ud558\uac70\ub098 ",(0,r.jsx)(e.code,{children:"public"})," \ud3f4\ub354\uc5d0\uc11c ",(0,r.jsx)(e.code,{children:"fetch"})," \ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc90c"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:'optimizeDeps: exclude: ["onnxruntime-web"]'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"onnxruntime-web"})," \ud328\ud0a4\uc9c0\ub97c Vite \uc0ac\uc804 \ubc88\ub4e4\ub9c1(pre-bundling)\uc5d0\uc11c \uc81c\uc678"]}),"\n",(0,r.jsx)(e.li,{children:"\uc774 \ud328\ud0a4\uc9c0\ub294 WASM \ud30c\uc77c\uacfc \ubcf5\uc7a1\ud55c \ub85c\ub529 \ub85c\uc9c1\uc744 \ud3ec\ud568\ud558\ubbc0\ub85c \ub7f0\ud0c0\uc784\uc5d0 \ub3d9\uc801\uc73c\ub85c \ub85c\ub4dc\ub418\uc5b4\uc57c \ud568"}),"\n",(0,r.jsx)(e.li,{children:"Vite\uac00 \uc774 \ud328\ud0a4\uc9c0\ub97c ESM\uc73c\ub85c \ubcc0\ud658\ud558\ub824\ub2e4 \uc2e4\ud328\ud558\ub294 \uac83\uc744 \ubc29\uc9c0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\uac04\ub2e8\ud55c \ud504\ub85c\uc81d\ud2b8\ub77c\uba74 CDN \uc5d0\uc11c script \ub97c \ubc1b\uc544\uc640 ",(0,r.jsx)(e.code,{children:"js"}),"\ub85c \uc2e4\ud589\ud574\uc8fc\ub294 \uac83\ub3c4 \uac00\ub2a5\ud558\ub2e4."]}),"\n",(0,r.jsx)(e.h3,{id:"html-script-tag",children:"HTML script tag"}),"\n",(0,r.jsx)(e.h4,{id:"import-1",children:"Import"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-html",children:'<script src="https://example.com/path/ort.webgpu.min.js"><\/script>\n'})}),"\n",(0,r.jsx)(e.h4,{id:"\uc0ac\uc6a9\ubc95",children:"\uc0ac\uc6a9\ubc95"}),"\n",(0,r.jsxs)(e.p,{children:["\uc774 \uacbd\uc6b0 ",(0,r.jsx)(e.code,{children:"window."}),"\uc758 ",(0,r.jsx)(e.code,{children:"ort"}),"\ub97c \uac00\uc838\uc640\uc11c \uc0ac\uc6a9\ud558\uc5ec\uc57c \ud55c\ub2e4."]}),"\n",(0,r.jsx)(e.h5,{id:"\uc608\uc2dc",children:"\uc608\uc2dc"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'const session = await window.ort.InferenceSession.create(modelSource as any, {\n  executionProviders: ["webgpu", "webgl", "wasm"],\n});\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\ud558\uc9c0\ub9cc \ud0c0\uc785 \uc548\uc804\uc131, \ubc88\ub4e4 \ucd5c\uc801\ud654, \uc624\ud504\ub77c\uc778 \uc9c0\uc6d0, \uc758\uc874\uc131 \uad00\ub9ac, \ubcf4\uc548 \ub4f1\uc758 \ubb38\uc81c\ub85c \uc774\ubc88 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 ",(0,r.jsx)(e.code,{children:"Package import"})," \ubc29\uc2dd\uc744 \uc801\uc6a9\ud558\ub3c4\ub85d \ud55c\ub2e4."]}),"\n",(0,r.jsx)(e.h2,{id:"\ubaa8\ub378-\ub85c\ub4dc-\ubc0f-\ucd94\ub860-\uc2e4\ud589",children:"\ubaa8\ub378 \ub85c\ub4dc \ubc0f \ucd94\ub860 \uc2e4\ud589"}),"\n",(0,r.jsx)(e.h3,{id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",children:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95"}),"\n",(0,r.jsx)(e.p,{children:"ONNX Runtime Web\uc744 \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub378\uc744 \ub85c\ub4dc\ud558\uace0 \ucd94\ub860\uc744 \uc2e4\ud589\ud558\ub294 \uae30\ubcf8\uc801\uc778 \ubc29\ubc95\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'import * as ort from "onnxruntime-web";\n\n// \ubaa8\ub378 \ub85c\ub4dc\nasync function loadModel(modelUrl: string) {\n  try {\n    const session = await ort.InferenceSession.create(modelUrl, {\n      executionProviders: ["webgpu", "webgl", "wasm"],\n    });\n    return session;\n  } catch (error) {\n    console.error("\ubaa8\ub378 \ub85c\ub4dc \uc2e4\ud328:", error);\n    throw error;\n  }\n}\n\n// \ucd94\ub860 \uc2e4\ud589\nasync function runInference(session: ort.InferenceSession, inputData: Float32Array, inputShape: number[]) {\n  try {\n    // \uc785\ub825 \ud150\uc11c \uc0dd\uc131\n    const inputTensor = new ort.Tensor("float32", inputData, inputShape);\n    \n    // \ucd94\ub860 \uc2e4\ud589\n    const feeds = { input: inputTensor }; // \ubaa8\ub378\uc758 \uc785\ub825 \uc774\ub984\uc5d0 \ub9de\uac8c \uc218\uc815 \ud544\uc694\n    const results = await session.run(feeds);\n    \n    return results;\n  } catch (error) {\n    console.error("\ucd94\ub860 \uc2e4\ud589 \uc2e4\ud328:", error);\n    throw error;\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\uc774\ubbf8\uc9c0-\uc804\ucc98\ub9ac-\uc608\uc81c",children:"\uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac \uc608\uc81c"}),"\n",(0,r.jsx)(e.p,{children:"Vision AI \ubaa8\ub378\uc758 \uacbd\uc6b0 \uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac\uac00 \ud544\uc694\ud558\ub2e4:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'// \uc774\ubbf8\uc9c0\ub97c \ubaa8\ub378 \uc785\ub825 \ud615\uc2dd\uc73c\ub85c \uc804\ucc98\ub9ac\nfunction preprocessImage(imageElement: HTMLImageElement, targetSize: [number, number] = [224, 224]): Float32Array {\n  const canvas = document.createElement("canvas");\n  const ctx = canvas.getContext("2d")!;\n  \n  canvas.width = targetSize[0];\n  canvas.height = targetSize[1];\n  \n  // \uc774\ubbf8\uc9c0\ub97c \uce94\ubc84\uc2a4\uc5d0 \uadf8\ub9ac\uae30 (\ub9ac\uc0ac\uc774\uc988)\n  ctx.drawImage(imageElement, 0, 0, targetSize[0], targetSize[1]);\n  \n  // \ud53d\uc140 \ub370\uc774\ud130 \ucd94\ucd9c\n  const imageData = ctx.getImageData(0, 0, targetSize[0], targetSize[1]);\n  const pixels = imageData.data;\n  \n  // RGB \uc815\uaddc\ud654 \ubc0f \ucc44\ub110 \ubd84\ub9ac (CHW \ud615\uc2dd)\n  const float32Data = new Float32Array(3 * targetSize[0] * targetSize[1]);\n  \n  for (let i = 0; i < pixels.length; i += 4) {\n    const pixelIndex = i / 4;\n    const r = pixels[i] / 255.0;\n    const g = pixels[i + 1] / 255.0;\n    const b = pixels[i + 2] / 255.0;\n    \n    // CHW \ud615\uc2dd\uc73c\ub85c \ub370\uc774\ud130 \ubc30\uce58\n    float32Data[pixelIndex] = r; // R \ucc44\ub110\n    float32Data[pixelIndex + (targetSize[0] * targetSize[1])] = g; // G \ucc44\ub110\n    float32Data[pixelIndex + (2 * targetSize[0] * targetSize[1])] = b; // B \ucc44\ub110\n  }\n  \n  return float32Data;\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\uc644\uc804\ud55c-\uc0ac\uc6a9-\uc608\uc81c",children:"\uc644\uc804\ud55c \uc0ac\uc6a9 \uc608\uc81c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'async function classifyImage(imageElement: HTMLImageElement) {\n  try {\n    // 1. \ubaa8\ub378 \ub85c\ub4dc\n    const session = await loadModel("/models/resnet50.onnx");\n    \n    // 2. \uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac\n    const inputData = preprocessImage(imageElement);\n    const inputShape = [1, 3, 224, 224]; // [batch, channels, height, width]\n    \n    // 3. \ucd94\ub860 \uc2e4\ud589\n    const results = await runInference(session, inputData, inputShape);\n    \n    // 4. \uacb0\uacfc \ucc98\ub9ac\n    const outputTensor = results[Object.keys(results)[0]]; // \uccab \ubc88\uc9f8 \ucd9c\ub825\n    const predictions = outputTensor.data as Float32Array;\n    \n    // \ucd5c\ub300\uac12\uc758 \uc778\ub371\uc2a4 \ucc3e\uae30 (\uac00\uc7a5 \ub192\uc740 \ud655\ub960\uc758 \ud074\ub798\uc2a4)\n    const maxIndex = predictions.indexOf(Math.max(...predictions));\n    \n    return {\n      classIndex: maxIndex,\n      confidence: predictions[maxIndex],\n      allPredictions: predictions\n    };\n  } catch (error) {\n    console.error("\uc774\ubbf8\uc9c0 \ubd84\ub958 \uc2e4\ud328:", error);\n    throw error;\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\ubc31\uc5d4\ub4dc-\uc120\ud0dd-\uac00\uc774\ub4dc",children:"\ubc31\uc5d4\ub4dc \uc120\ud0dd \uac00\uc774\ub4dc"}),"\n",(0,r.jsx)(e.p,{children:"ONNX Runtime Web\uc740 3\uac00\uc9c0 \ubc31\uc5d4\ub4dc\ub97c \uc9c0\uc6d0\ud558\uba70, \uac01\uac01\uc758 \ud2b9\uc131\uacfc \uc131\ub2a5\uc774 \ub2e4\ub974\ub2e4:"}),"\n",(0,r.jsx)(e.h3,{id:"webgpu-\ubc31\uc5d4\ub4dc",children:"WebGPU \ubc31\uc5d4\ub4dc"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\uc7a5\uc810:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\ucd5c\uace0 \uc131\ub2a5 (GPU \uac00\uc18d)"}),"\n",(0,r.jsx)(e.li,{children:"\ubcd1\ub82c \ucc98\ub9ac\uc5d0 \ucd5c\uc801\ud654"}),"\n",(0,r.jsx)(e.li,{children:"\ub300\uc6a9\ub7c9 \ubaa8\ub378\uc5d0 \uc801\ud569"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ub2e8\uc810:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0 \uc81c\ud55c\uc801 (Chrome 113+, Edge 113+)"}),"\n",(0,r.jsx)(e.li,{children:"\uac1c\ubc1c \ub2e8\uacc4\uc758 \uae30\uc220"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\uc0ac\uc6a9 \uad8c\uc7a5 \uc2dc\ub098\ub9ac\uc624:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\ucd5c\uc2e0 \ube0c\ub77c\uc6b0\uc800 \ud658\uacbd"}),"\n",(0,r.jsx)(e.li,{children:"\ubcf5\uc7a1\ud55c \ubaa8\ub378 \ub610\ub294 \ub300\uc6a9\ub7c9 \ub370\uc774\ud130 \ucc98\ub9ac"}),"\n",(0,r.jsx)(e.li,{children:"\uc2e4\uc2dc\uac04 \ucc98\ub9ac\uac00 \uc911\uc694\ud55c \uacbd\uc6b0"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'const session = await ort.InferenceSession.create(modelUrl, {\n  executionProviders: ["webgpu"],\n});\n'})}),"\n",(0,r.jsx)(e.h3,{id:"webgl-\ubc31\uc5d4\ub4dc",children:"WebGL \ubc31\uc5d4\ub4dc"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\uc7a5\uc810:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\uc88b\uc740 \ube0c\ub77c\uc6b0\uc800 \ud638\ud658\uc131"}),"\n",(0,r.jsx)(e.li,{children:"GPU \uac00\uc18d \uc9c0\uc6d0"}),"\n",(0,r.jsx)(e.li,{children:"WebGPU\ubcf4\ub2e4 \uc548\uc815\uc801"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ub2e8\uc810:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"WebGPU \ub300\ube44 \uc131\ub2a5 \uc81c\ud55c"}),"\n",(0,r.jsx)(e.li,{children:"\uc77c\ubd80 \uc5f0\uc0b0\uc790 \uc9c0\uc6d0 \uc81c\ud55c"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\uc0ac\uc6a9 \uad8c\uc7a5 \uc2dc\ub098\ub9ac\uc624:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\uad11\ubc94\uc704\ud55c \ube0c\ub77c\uc6b0\uc800 \ud638\ud658\uc131\uc774 \ud544\uc694\ud55c \uacbd\uc6b0"}),"\n",(0,r.jsx)(e.li,{children:"\uc911\uac04 \uaddc\ubaa8\uc758 \ubaa8\ub378"}),"\n",(0,r.jsx)(e.li,{children:"\uc548\uc815\uc131\uc774 \uc911\uc694\ud55c \ud504\ub85c\ub355\uc158 \ud658\uacbd"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'const session = await ort.InferenceSession.create(modelUrl, {\n  executionProviders: ["webgl"],\n});\n'})}),"\n",(0,r.jsx)(e.h3,{id:"wasm-\ubc31\uc5d4\ub4dc",children:"WASM \ubc31\uc5d4\ub4dc"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\uc7a5\uc810:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\ubaa8\ub4e0 \ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0"}),"\n",(0,r.jsx)(e.li,{children:"\uac00\uc7a5 \uc548\uc815\uc801"}),"\n",(0,r.jsx)(e.li,{children:"CPU \uae30\ubc18\uc73c\ub85c \uc608\uce21 \uac00\ub2a5\ud55c \uc131\ub2a5"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ub2e8\uc810:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\uac00\uc7a5 \ub290\ub9b0 \uc131\ub2a5"}),"\n",(0,r.jsx)(e.li,{children:"GPU \uac00\uc18d \uc5c6\uc74c"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\uc0ac\uc6a9 \uad8c\uc7a5 \uc2dc\ub098\ub9ac\uc624:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\ucd5c\ub300 \ud638\ud658\uc131\uc774 \ud544\uc694\ud55c \uacbd\uc6b0"}),"\n",(0,r.jsx)(e.li,{children:"\uac04\ub2e8\ud55c \ubaa8\ub378"}),"\n",(0,r.jsx)(e.li,{children:"\ubc31\uc5c5 \uc635\uc158\uc73c\ub85c \uc0ac\uc6a9"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'const session = await ort.InferenceSession.create(modelUrl, {\n  executionProviders: ["wasm"],\n});\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\uc131\ub2a5-\ube44\uad50",children:"\uc131\ub2a5 \ube44\uad50"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\ubc31\uc5d4\ub4dc"}),(0,r.jsx)(e.th,{children:"\ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0"}),(0,r.jsx)(e.th,{children:"\uc131\ub2a5"}),(0,r.jsx)(e.th,{children:"\uc548\uc815\uc131"}),(0,r.jsx)(e.th,{children:"\uad8c\uc7a5 \uc6a9\ub3c4"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"WebGPU"}),(0,r.jsx)(e.td,{children:"Chrome 113+, Edge 113+"}),(0,r.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,r.jsx)(e.td,{children:"\u2b50\u2b50\u2b50"}),(0,r.jsx)(e.td,{children:"\ucd5c\uc2e0 \ud658\uacbd, \uace0\uc131\ub2a5"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"WebGL"}),(0,r.jsx)(e.td,{children:"\ub300\ubd80\ubd84\uc758 \ubaa8\ub358 \ube0c\ub77c\uc6b0\uc800"}),(0,r.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,r.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,r.jsx)(e.td,{children:"\uade0\ud615 \uc7a1\ud78c \uc120\ud0dd"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"WASM"}),(0,r.jsx)(e.td,{children:"\ubaa8\ub4e0 \ube0c\ub77c\uc6b0\uc800"}),(0,r.jsx)(e.td,{children:"\u2b50\u2b50"}),(0,r.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,r.jsx)(e.td,{children:"\ud638\ud658\uc131 \uc6b0\uc120"})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"\uc801\uc751\ud615-\ubc31\uc5d4\ub4dc-\uc120\ud0dd",children:"\uc801\uc751\ud615 \ubc31\uc5d4\ub4dc \uc120\ud0dd"}),"\n",(0,r.jsx)(e.p,{children:"\uc2e4\uc81c \ud658\uacbd\uc5d0\uc11c\ub294 \ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0 \uc5ec\ubd80\uc5d0 \ub530\ub77c \ubc31\uc5d4\ub4dc\ub97c \uc790\ub3d9\uc73c\ub85c \uc120\ud0dd\ud558\ub294 \uac83\uc774 \uc88b\ub2e4:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'async function createSessionWithFallback(modelUrl: string) {\n  const providers = ["webgpu", "webgl", "wasm"];\n  \n  for (const provider of providers) {\n    try {\n      console.log(`${provider} \ubc31\uc5d4\ub4dc\ub85c \uc2dc\ub3c4 \uc911...`);\n      const session = await ort.InferenceSession.create(modelUrl, {\n        executionProviders: [provider],\n      });\n      console.log(`${provider} \ubc31\uc5d4\ub4dc\ub85c \uc131\uacf5\uc801\uc73c\ub85c \ub85c\ub4dc\ub428`);\n      return { session, provider };\n    } catch (error) {\n      console.warn(`${provider} \ubc31\uc5d4\ub4dc \uc2e4\ud328:`, error);\n      continue;\n    }\n  }\n  \n  throw new Error("\ubaa8\ub4e0 \ubc31\uc5d4\ub4dc\uc5d0\uc11c \ubaa8\ub378 \ub85c\ub4dc \uc2e4\ud328");\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\ubaa8\ub378-\uce90\uc2f1-\ubc0f-\ubc84\uc804-\uad00\ub9ac",children:"\ubaa8\ub378 \uce90\uc2f1 \ubc0f \ubc84\uc804 \uad00\ub9ac"}),"\n",(0,r.jsx)(e.p,{children:"\uc6f9 \ud658\uacbd\uc5d0\uc11c ONNX \ubaa8\ub378\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud574\uc11c\ub294 \uce90\uc2f1\uacfc \ubc84\uc804 \uad00\ub9ac\uac00 \uc911\uc694\ud558\ub2e4."}),"\n",(0,r.jsx)(e.h3,{id:"indexeddb\ub97c-\uc774\uc6a9\ud55c-\ubaa8\ub378-\uce90\uc2f1",children:"IndexedDB\ub97c \uc774\uc6a9\ud55c \ubaa8\ub378 \uce90\uc2f1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"interface ModelCache {\n  url: string;\n  version: string;\n  data: ArrayBuffer;\n  timestamp: number;\n}\n\nclass ONNXModelManager {\n  private dbName = \"onnx-models\";\n  private storeName = \"models\";\n  private db: IDBDatabase | null = null;\n\n  async initDB(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, 1);\n      \n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n      \n      request.onupgradeneeded = (event) => {\n        const db = (event.target as IDBOpenDBRequest).result;\n        if (!db.objectStoreNames.contains(this.storeName)) {\n          const store = db.createObjectStore(this.storeName, { keyPath: 'url' });\n          store.createIndex('version', 'version', { unique: false });\n          store.createIndex('timestamp', 'timestamp', { unique: false });\n        }\n      };\n    });\n  }\n\n  async getCachedModel(url: string, expectedVersion?: string): Promise<ArrayBuffer | null> {\n    if (!this.db) await this.initDB();\n    \n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const store = transaction.objectStore(this.storeName);\n      const request = store.get(url);\n      \n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        const result = request.result as ModelCache;\n        \n        if (!result) {\n          resolve(null);\n          return;\n        }\n        \n        // \ubc84\uc804 \ud655\uc778\n        if (expectedVersion && result.version !== expectedVersion) {\n          console.log(`\ubaa8\ub378 \ubc84\uc804 \ubd88\uc77c\uce58: \uce90\uc2dc(${result.version}) vs \uc694\uccad(${expectedVersion})`);\n          resolve(null);\n          return;\n        }\n        \n        // \uce90\uc2dc \ub9cc\ub8cc \ud655\uc778 (\uc608: 24\uc2dc\uac04)\n        const cacheExpiry = 24 * 60 * 60 * 1000; // 24\uc2dc\uac04\n        if (Date.now() - result.timestamp > cacheExpiry) {\n          console.log('\uce90\uc2dc \ub9cc\ub8cc\ub428');\n          resolve(null);\n          return;\n        }\n        \n        resolve(result.data);\n      };\n    });\n  }\n\n  async cacheModel(url: string, data: ArrayBuffer, version: string): Promise<void> {\n    if (!this.db) await this.initDB();\n    \n    const modelCache: ModelCache = {\n      url,\n      version,\n      data,\n      timestamp: Date.now()\n    };\n    \n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const store = transaction.objectStore(this.storeName);\n      const request = store.put(modelCache);\n      \n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve();\n    });\n  }\n\n  async loadModelWithCache(url: string, version?: string): Promise<ArrayBuffer> {\n    // 1. \uce90\uc2dc\uc5d0\uc11c \uba3c\uc800 \ud655\uc778\n    const cachedData = await this.getCachedModel(url, version);\n    if (cachedData) {\n      console.log('\uce90\uc2dc\ub41c \ubaa8\ub378 \uc0ac\uc6a9:', url);\n      return cachedData;\n    }\n    \n    // 2. \ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c \ub2e4\uc6b4\ub85c\ub4dc\n    console.log('\ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c \ubaa8\ub378 \ub2e4\uc6b4\ub85c\ub4dc:', url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`\ubaa8\ub378 \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\ud328: ${response.status}`);\n    }\n    \n    const data = await response.arrayBuffer();\n    \n    // 3. \uce90\uc2dc\uc5d0 \uc800\uc7a5\n    if (version) {\n      await this.cacheModel(url, data, version);\n    }\n    \n    return data;\n  }\n\n  async clearCache(): Promise<void> {\n    if (!this.db) await this.initDB();\n    \n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const store = transaction.objectStore(this.storeName);\n      const request = store.clear();\n      \n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve();\n    });\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ubaa8\ub378-\ubc84\uc804-\uad00\ub9ac",children:"\ubaa8\ub378 \ubc84\uc804 \uad00\ub9ac"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"interface ModelConfig {\n  name: string;\n  version: string;\n  url: string;\n  checksum?: string;\n  size?: number;\n}\n\nclass ModelVersionManager {\n  private configUrl: string;\n  private modelManager: ONNXModelManager;\n\n  constructor(configUrl: string) {\n    this.configUrl = configUrl;\n    this.modelManager = new ONNXModelManager();\n  }\n\n  async getLatestModelConfig(modelName: string): Promise<ModelConfig> {\n    const response = await fetch(this.configUrl);\n    const configs: ModelConfig[] = await response.json();\n    \n    const modelConfig = configs.find(config => config.name === modelName);\n    if (!modelConfig) {\n      throw new Error(`\ubaa8\ub378\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4: ${modelName}`);\n    }\n    \n    return modelConfig;\n  }\n\n  async loadModel(modelName: string): Promise<ort.InferenceSession> {\n    // 1. \ucd5c\uc2e0 \ubaa8\ub378 \uc815\ubcf4 \uac00\uc838\uc624\uae30\n    const config = await this.getLatestModelConfig(modelName);\n    \n    // 2. \uce90\uc2dc\ub41c \ubaa8\ub378 \ub610\ub294 \uc0c8\ub85c \ub2e4\uc6b4\ub85c\ub4dc\n    const modelData = await this.modelManager.loadModelWithCache(\n      config.url, \n      config.version\n    );\n    \n    // 3. \uccb4\ud06c\uc12c \uac80\uc99d (\uc120\ud0dd\uc0ac\ud56d)\n    if (config.checksum) {\n      const calculatedChecksum = await this.calculateChecksum(modelData);\n      if (calculatedChecksum !== config.checksum) {\n        throw new Error('\ubaa8\ub378 \uccb4\ud06c\uc12c \ubd88\uc77c\uce58');\n      }\n    }\n    \n    // 4. ONNX \uc138\uc158 \uc0dd\uc131\n    const session = await ort.InferenceSession.create(modelData, {\n      executionProviders: [\"webgpu\", \"webgl\", \"wasm\"],\n    });\n    \n    return session;\n  }\n\n  private async calculateChecksum(data: ArrayBuffer): Promise<string> {\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc0ac\uc6a9-\uc608\uc81c",children:"\uc0ac\uc6a9 \uc608\uc81c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \ubaa8\ub378 \ub9e4\ub2c8\uc800 \ucd08\uae30\ud654\nconst modelManager = new ModelVersionManager('/api/models/config.json');\n\n// \ubaa8\ub378 \ub85c\ub4dc (\uce90\uc2f1 \ubc0f \ubc84\uc804 \uad00\ub9ac \uc790\ub3d9 \ucc98\ub9ac)\nconst session = await modelManager.loadModel('resnet50');\n\n// \ucd94\ub860 \uc2e4\ud589\nconst results = await runInference(session, inputData, inputShape);\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uce90\uc2dc-\uad00\ub9ac-\uc804\ub7b5",children:"\uce90\uc2dc \uad00\ub9ac \uc804\ub7b5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \uce90\uc2dc \ud06c\uae30 \uc81c\ud55c\nclass CacheManager extends ONNXModelManager {\n  private maxCacheSize = 100 * 1024 * 1024; // 100MB\n\n  async cleanupOldModels(): Promise<void> {\n    if (!this.db) await this.initDB();\n    \n    const transaction = this.db!.transaction([this.storeName], 'readwrite');\n    const store = transaction.objectStore(this.storeName);\n    const index = store.index('timestamp');\n    \n    let totalSize = 0;\n    const modelsToDelete: string[] = [];\n    \n    const request = index.openCursor(null, 'prev'); // \ucd5c\uc2e0\uc21c\uc73c\ub85c \uc815\ub82c\n    \n    request.onsuccess = (event) => {\n      const cursor = (event.target as IDBRequest).result;\n      if (cursor) {\n        const model = cursor.value as ModelCache;\n        totalSize += model.data.byteLength;\n        \n        if (totalSize > this.maxCacheSize) {\n          modelsToDelete.push(model.url);\n        }\n        \n        cursor.continue();\n      } else {\n        // \uc624\ub798\ub41c \ubaa8\ub378\ub4e4 \uc0ad\uc81c\n        modelsToDelete.forEach(url => {\n          store.delete(url);\n        });\n      }\n    };\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uc2e4\uc81c-vision-ai-\ubaa8\ub378-\uc801\uc6a9-\uc608\uc81c",children:"\uc2e4\uc81c Vision AI \ubaa8\ub378 \uc801\uc6a9 \uc608\uc81c"}),"\n",(0,r.jsx)(e.h3,{id:"mobilenet\uc744-\uc774\uc6a9\ud55c-\uc774\ubbf8\uc9c0-\ubd84\ub958",children:"MobileNet\uc744 \uc774\uc6a9\ud55c \uc774\ubbf8\uc9c0 \ubd84\ub958"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"interface ClassificationResult {\n  label: string;\n  probability: number;\n}\n\nclass MobileNetClassifier {\n  private session: ort.InferenceSession | null = null;\n  private labels: string[] = [];\n\n  async initialize() {\n    // ImageNet \ud074\ub798\uc2a4 \ub77c\ubca8 \ub85c\ub4dc\n    this.labels = await this.loadImageNetLabels();\n    \n    // MobileNet \ubaa8\ub378 \ub85c\ub4dc\n    this.session = await ort.InferenceSession.create('/models/mobilenet_v2.onnx', {\n      executionProviders: ['webgpu', 'webgl', 'wasm']\n    });\n  }\n\n  private async loadImageNetLabels(): Promise<string[]> {\n    const response = await fetch('/labels/imagenet_labels.json');\n    return await response.json();\n  }\n\n  async classifyImage(imageElement: HTMLImageElement): Promise<ClassificationResult[]> {\n    if (!this.session) {\n      throw new Error('\ubaa8\ub378\uc774 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4');\n    }\n\n    // 1. \uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac (MobileNet \uc785\ub825 \ud615\uc2dd: 224x224, RGB, \uc815\uaddc\ud654)\n    const inputTensor = this.preprocessImageForMobileNet(imageElement);\n    \n    // 2. \ucd94\ub860 \uc2e4\ud589\n    const feeds = { input: inputTensor };\n    const results = await this.session.run(feeds);\n    \n    // 3. \uacb0\uacfc \ud6c4\ucc98\ub9ac\n    const output = results.output.data as Float32Array;\n    const topResults = this.getTopPredictions(output, 5);\n    \n    return topResults;\n  }\n\n  private preprocessImageForMobileNet(imageElement: HTMLImageElement): ort.Tensor {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d')!;\n    \n    canvas.width = 224;\n    canvas.height = 224;\n    \n    // \uc774\ubbf8\uc9c0\ub97c 224x224\ub85c \ub9ac\uc0ac\uc774\uc988\n    ctx.drawImage(imageElement, 0, 0, 224, 224);\n    \n    const imageData = ctx.getImageData(0, 0, 224, 224);\n    const pixels = imageData.data;\n    \n    // MobileNet \uc804\ucc98\ub9ac: [0, 255] -> [-1, 1] \uc815\uaddc\ud654\n    const float32Data = new Float32Array(1 * 3 * 224 * 224);\n    \n    for (let i = 0; i < pixels.length; i += 4) {\n      const pixelIndex = i / 4;\n      \n      // RGB \uac12\uc744 [-1, 1] \ubc94\uc704\ub85c \uc815\uaddc\ud654\n      const r = (pixels[i] / 255.0 - 0.5) * 2;\n      const g = (pixels[i + 1] / 255.0 - 0.5) * 2;\n      const b = (pixels[i + 2] / 255.0 - 0.5) * 2;\n      \n      // NCHW \ud615\uc2dd\uc73c\ub85c \ubc30\uce58\n      float32Data[pixelIndex] = r;\n      float32Data[pixelIndex + (224 * 224)] = g;\n      float32Data[pixelIndex + (2 * 224 * 224)] = b;\n    }\n    \n    return new ort.Tensor('float32', float32Data, [1, 3, 224, 224]);\n  }\n\n  private getTopPredictions(predictions: Float32Array, topK: number): ClassificationResult[] {\n    const results: ClassificationResult[] = [];\n    \n    // \uc18c\ud504\ud2b8\ub9e5\uc2a4 \uc801\uc6a9\n    const softmaxResults = this.softmax(predictions);\n    \n    // \ud655\ub960\uacfc \uc778\ub371\uc2a4\ub97c \ud568\uaed8 \uc800\uc7a5\n    const indexedResults = softmaxResults.map((prob, index) => ({\n      probability: prob,\n      index\n    }));\n    \n    // \ud655\ub960 \uc21c\uc73c\ub85c \uc815\ub82c\n    indexedResults.sort((a, b) => b.probability - a.probability);\n    \n    // \uc0c1\uc704 K\uac1c \uacb0\uacfc \ubc18\ud658\n    for (let i = 0; i < Math.min(topK, indexedResults.length); i++) {\n      const result = indexedResults[i];\n      results.push({\n        label: this.labels[result.index] || `Class ${result.index}`,\n        probability: result.probability\n      });\n    }\n    \n    return results;\n  }\n\n  private softmax(logits: Float32Array): Float32Array {\n    const maxLogit = Math.max(...logits);\n    const expLogits = logits.map(x => Math.exp(x - maxLogit));\n    const sumExp = expLogits.reduce((sum, x) => sum + x, 0);\n    \n    return new Float32Array(expLogits.map(x => x / sumExp));\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"yolo\ub97c-\uc774\uc6a9\ud55c-\uac1d\uccb4-\ud0d0\uc9c0",children:"YOLO\ub97c \uc774\uc6a9\ud55c \uac1d\uccb4 \ud0d0\uc9c0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"interface DetectionResult {\n  label: string;\n  confidence: number;\n  bbox: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n}\n\nclass YOLODetector {\n  private session: ort.InferenceSession | null = null;\n  private labels: string[] = [];\n  private inputSize = 640; // YOLOv5/v8 \uae30\ubcf8 \uc785\ub825 \ud06c\uae30\n\n  async initialize() {\n    // COCO \ud074\ub798\uc2a4 \ub77c\ubca8 \ub85c\ub4dc\n    this.labels = await this.loadCOCOLabels();\n    \n    // YOLO \ubaa8\ub378 \ub85c\ub4dc\n    this.session = await ort.InferenceSession.create('/models/yolov8n.onnx', {\n      executionProviders: ['webgpu', 'webgl', 'wasm']\n    });\n  }\n\n  private async loadCOCOLabels(): Promise<string[]> {\n    const response = await fetch('/labels/coco_labels.json');\n    return await response.json();\n  }\n\n  async detectObjects(imageElement: HTMLImageElement): Promise<DetectionResult[]> {\n    if (!this.session) {\n      throw new Error('\ubaa8\ub378\uc774 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4');\n    }\n\n    // 1. \uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac\n    const { inputTensor, scaleX, scaleY } = this.preprocessImageForYOLO(imageElement);\n    \n    // 2. \ucd94\ub860 \uc2e4\ud589\n    const feeds = { images: inputTensor };\n    const results = await this.session.run(feeds);\n    \n    // 3. \uacb0\uacfc \ud6c4\ucc98\ub9ac\n    const output = results.output0.data as Float32Array;\n    const detections = this.postprocessYOLOOutput(\n      output, \n      scaleX, \n      scaleY, \n      imageElement.width, \n      imageElement.height\n    );\n    \n    return detections;\n  }\n\n  private preprocessImageForYOLO(imageElement: HTMLImageElement) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d')!;\n    \n    canvas.width = this.inputSize;\n    canvas.height = this.inputSize;\n    \n    // \uc6d0\ubcf8 \uc774\ubbf8\uc9c0 \ube44\uc728\uc744 \uc720\uc9c0\ud558\uba74\uc11c 640x640\uc5d0 \ub9de\ucda4\n    const scaleX = imageElement.width / this.inputSize;\n    const scaleY = imageElement.height / this.inputSize;\n    \n    // \uc774\ubbf8\uc9c0\ub97c \uce94\ubc84\uc2a4 \uc911\uc559\uc5d0 \ubc30\uce58 (letterbox)\n    ctx.fillStyle = '#808080'; // \ud68c\uc0c9 \ud328\ub529\n    ctx.fillRect(0, 0, this.inputSize, this.inputSize);\n    \n    const scale = Math.min(this.inputSize / imageElement.width, this.inputSize / imageElement.height);\n    const scaledWidth = imageElement.width * scale;\n    const scaledHeight = imageElement.height * scale;\n    const offsetX = (this.inputSize - scaledWidth) / 2;\n    const offsetY = (this.inputSize - scaledHeight) / 2;\n    \n    ctx.drawImage(imageElement, offsetX, offsetY, scaledWidth, scaledHeight);\n    \n    const imageData = ctx.getImageData(0, 0, this.inputSize, this.inputSize);\n    const pixels = imageData.data;\n    \n    // YOLO \uc804\ucc98\ub9ac: [0, 255] -> [0, 1] \uc815\uaddc\ud654\n    const float32Data = new Float32Array(1 * 3 * this.inputSize * this.inputSize);\n    \n    for (let i = 0; i < pixels.length; i += 4) {\n      const pixelIndex = i / 4;\n      \n      const r = pixels[i] / 255.0;\n      const g = pixels[i + 1] / 255.0;\n      const b = pixels[i + 2] / 255.0;\n      \n      // NCHW \ud615\uc2dd\uc73c\ub85c \ubc30\uce58\n      float32Data[pixelIndex] = r;\n      float32Data[pixelIndex + (this.inputSize * this.inputSize)] = g;\n      float32Data[pixelIndex + (2 * this.inputSize * this.inputSize)] = b;\n    }\n    \n    const inputTensor = new ort.Tensor('float32', float32Data, [1, 3, this.inputSize, this.inputSize]);\n    \n    return { inputTensor, scaleX, scaleY };\n  }\n\n  private postprocessYOLOOutput(\n    output: Float32Array,\n    scaleX: number,\n    scaleY: number,\n    originalWidth: number,\n    originalHeight: number\n  ): DetectionResult[] {\n    const detections: DetectionResult[] = [];\n    const confidenceThreshold = 0.5;\n    const nmsThreshold = 0.4;\n    \n    // YOLOv8 \ucd9c\ub825 \ud615\uc2dd: [1, 84, 8400] (84 = 4 bbox + 80 classes)\n    const numDetections = 8400;\n    const numClasses = 80;\n    \n    const boxes: number[][] = [];\n    const scores: number[] = [];\n    const classIds: number[] = [];\n    \n    for (let i = 0; i < numDetections; i++) {\n      let maxScore = 0;\n      let maxClassId = 0;\n      \n      // \ud074\ub798\uc2a4\ubcc4 \ucd5c\ub300 \uc810\uc218 \ucc3e\uae30\n      for (let j = 0; j < numClasses; j++) {\n        const score = output[i + (4 + j) * numDetections];\n        if (score > maxScore) {\n          maxScore = score;\n          maxClassId = j;\n        }\n      }\n      \n      if (maxScore > confidenceThreshold) {\n        const cx = output[i]; // center x\n        const cy = output[i + numDetections]; // center y\n        const w = output[i + 2 * numDetections]; // width\n        const h = output[i + 3 * numDetections]; // height\n        \n        // \uc911\uc2ec\uc810 \uc88c\ud45c\ub97c \uc88c\uc0c1\ub2e8 \uc88c\ud45c\ub85c \ubcc0\ud658\n        const x = (cx - w / 2) * scaleX;\n        const y = (cy - h / 2) * scaleY;\n        const width = w * scaleX;\n        const height = h * scaleY;\n        \n        boxes.push([x, y, width, height]);\n        scores.push(maxScore);\n        classIds.push(maxClassId);\n      }\n    }\n    \n    // NMS (Non-Maximum Suppression) \uc801\uc6a9\n    const nmsIndices = this.applyNMS(boxes, scores, nmsThreshold);\n    \n    for (const index of nmsIndices) {\n      const [x, y, width, height] = boxes[index];\n      detections.push({\n        label: this.labels[classIds[index]] || `Class ${classIds[index]}`,\n        confidence: scores[index],\n        bbox: {\n          x: Math.max(0, Math.min(x, originalWidth)),\n          y: Math.max(0, Math.min(y, originalHeight)),\n          width: Math.min(width, originalWidth - x),\n          height: Math.min(height, originalHeight - y)\n        }\n      });\n    }\n    \n    return detections;\n  }\n\n  private applyNMS(boxes: number[][], scores: number[], threshold: number): number[] {\n    const indices = Array.from({ length: boxes.length }, (_, i) => i);\n    \n    // \uc810\uc218 \uc21c\uc73c\ub85c \uc815\ub82c\n    indices.sort((a, b) => scores[b] - scores[a]);\n    \n    const keep: number[] = [];\n    \n    while (indices.length > 0) {\n      const current = indices.shift()!;\n      keep.push(current);\n      \n      const remainingIndices: number[] = [];\n      \n      for (const index of indices) {\n        const iou = this.calculateIoU(boxes[current], boxes[index]);\n        if (iou <= threshold) {\n          remainingIndices.push(index);\n        }\n      }\n      \n      indices.length = 0;\n      indices.push(...remainingIndices);\n    }\n    \n    return keep;\n  }\n\n  private calculateIoU(box1: number[], box2: number[]): number {\n    const [x1, y1, w1, h1] = box1;\n    const [x2, y2, w2, h2] = box2;\n    \n    const x1_max = x1 + w1;\n    const y1_max = y1 + h1;\n    const x2_max = x2 + w2;\n    const y2_max = y2 + h2;\n    \n    const intersectionX = Math.max(0, Math.min(x1_max, x2_max) - Math.max(x1, x2));\n    const intersectionY = Math.max(0, Math.min(y1_max, y2_max) - Math.max(y1, y2));\n    const intersectionArea = intersectionX * intersectionY;\n    \n    const box1Area = w1 * h1;\n    const box2Area = w2 * h2;\n    const unionArea = box1Area + box2Area - intersectionArea;\n    \n    return intersectionArea / unionArea;\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc0ac\uc6a9-\uc608\uc81c-1",children:"\uc0ac\uc6a9 \uc608\uc81c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \uc774\ubbf8\uc9c0 \ubd84\ub958 \uc0ac\uc6a9 \uc608\uc81c\nconst classifier = new MobileNetClassifier();\nawait classifier.initialize();\n\nconst imageElement = document.getElementById('input-image') as HTMLImageElement;\nconst classifications = await classifier.classifyImage(imageElement);\n\nconsole.log('\ubd84\ub958 \uacb0\uacfc:', classifications);\n// \ucd9c\ub825: [{ label: 'Egyptian cat', probability: 0.85 }, ...]\n\n// \uac1d\uccb4 \ud0d0\uc9c0 \uc0ac\uc6a9 \uc608\uc81c\nconst detector = new YOLODetector();\nawait detector.initialize();\n\nconst detections = await detector.detectObjects(imageElement);\n\nconsole.log('\ud0d0\uc9c0 \uacb0\uacfc:', detections);\n// \ucd9c\ub825: [{ label: 'person', confidence: 0.92, bbox: { x: 100, y: 50, width: 200, height: 300 } }, ...]\n\n// \ud0d0\uc9c0 \uacb0\uacfc\ub97c \uce94\ubc84\uc2a4\uc5d0 \uc2dc\uac01\ud654\nfunction drawDetections(canvas: HTMLCanvasElement, detections: DetectionResult[]) {\n  const ctx = canvas.getContext('2d')!;\n  \n  detections.forEach(detection => {\n    const { bbox, label, confidence } = detection;\n    \n    // \ubc14\uc6b4\ub529 \ubc15\uc2a4 \uadf8\ub9ac\uae30\n    ctx.strokeStyle = '#ff0000';\n    ctx.lineWidth = 2;\n    ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n    \n    // \ub77c\ubca8 \uadf8\ub9ac\uae30\n    ctx.fillStyle = '#ff0000';\n    ctx.font = '16px Arial';\n    const text = `${label} (${(confidence * 100).toFixed(1)}%)`;\n    ctx.fillText(text, bbox.x, bbox.y - 5);\n  });\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uc131\ub2a5-\ucd5c\uc801\ud654-\ubc0f-\uba54\ubaa8\ub9ac-\uad00\ub9ac",children:"\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \uba54\ubaa8\ub9ac \uad00\ub9ac"}),"\n",(0,r.jsx)(e.h3,{id:"\ubaa8\ub378-\ucd5c\uc801\ud654-\uae30\ubc95",children:"\ubaa8\ub378 \ucd5c\uc801\ud654 \uae30\ubc95"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class OptimizedONNXRunner {\n  private session: ort.InferenceSession | null = null;\n  private warmupCompleted = false;\n\n  async initialize(modelUrl: string) {\n    // 1. \ucd5c\uc801\ud654\ub41c \uc138\uc158 \uc635\uc158 \uc124\uc815\n    const sessionOptions: ort.InferenceSession.SessionOptions = {\n      executionProviders: ['webgpu', 'webgl', 'wasm'],\n      graphOptimizationLevel: 'all', // \uadf8\ub798\ud504 \ucd5c\uc801\ud654 \ud65c\uc131\ud654\n      enableCpuMemArena: true, // CPU \uba54\ubaa8\ub9ac \uc544\ub808\ub098 \uc0ac\uc6a9\n      enableMemPattern: true, // \uba54\ubaa8\ub9ac \ud328\ud134 \ucd5c\uc801\ud654\n      executionMode: 'sequential', // \uc21c\ucc28 \uc2e4\ud589 \ubaa8\ub4dc\n      logId: 'onnx-session',\n      logSeverityLevel: 2, // \uacbd\uace0 \uc218\uc900 \ub85c\uadf8\ub9cc \ucd9c\ub825\n    };\n\n    this.session = await ort.InferenceSession.create(modelUrl, sessionOptions);\n    \n    // 2. \uc6dc\uc5c5 \uc2e4\ud589\uc73c\ub85c \uc131\ub2a5 \ud5a5\uc0c1\n    await this.warmup();\n  }\n\n  // \uc6dc\uc5c5\uc744 \ud1b5\ud55c \ucd08\uae30\ud654 \ucd5c\uc801\ud654\n  private async warmup() {\n    if (!this.session || this.warmupCompleted) return;\n\n    const inputNames = this.session.inputNames;\n    const inputInfo = this.session.inputMetadata[inputNames[0]];\n    \n    // \ub354\ubbf8 \uc785\ub825\uc73c\ub85c \uc5ec\ub7ec \ubc88 \uc2e4\ud589\ud558\uc5ec JIT \ucef4\ud30c\uc77c \ucd5c\uc801\ud654\n    const dummyInput = new ort.Tensor(\n      'float32',\n      new Float32Array(this.calculateTensorSize(inputInfo.dims as number[])),\n      inputInfo.dims as number[]\n    );\n\n    const feeds = { [inputNames[0]]: dummyInput };\n    \n    // \uc5ec\ub7ec \ubc88 \uc2e4\ud589\ud558\uc5ec \ucd5c\uc801\ud654\n    for (let i = 0; i < 3; i++) {\n      await this.session.run(feeds);\n    }\n    \n    this.warmupCompleted = true;\n    console.log('\uc6dc\uc5c5 \uc644\ub8cc');\n  }\n\n  private calculateTensorSize(dims: number[]): number {\n    return dims.reduce((acc, dim) => acc * dim, 1);\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uba54\ubaa8\ub9ac-\uad00\ub9ac-\uc804\ub7b5",children:"\uba54\ubaa8\ub9ac \uad00\ub9ac \uc804\ub7b5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class MemoryManager {\n  private static instance: MemoryManager;\n  private sessions: Map<string, ort.InferenceSession> = new Map();\n  private tensors: Set<ort.Tensor> = new Set();\n  private maxSessions = 3; // \ucd5c\ub300 \uc138\uc158 \uc218 \uc81c\ud55c\n\n  static getInstance(): MemoryManager {\n    if (!MemoryManager.instance) {\n      MemoryManager.instance = new MemoryManager();\n    }\n    return MemoryManager.instance;\n  }\n\n  async getSession(modelName: string, modelUrl: string): Promise<ort.InferenceSession> {\n    // \uae30\uc874 \uc138\uc158\uc774 \uc788\uc73c\uba74 \uc7ac\uc0ac\uc6a9\n    if (this.sessions.has(modelName)) {\n      return this.sessions.get(modelName)!;\n    }\n\n    // \uc138\uc158 \uc218 \uc81c\ud55c \ud655\uc778\n    if (this.sessions.size >= this.maxSessions) {\n      await this.evictOldestSession();\n    }\n\n    // \uc0c8 \uc138\uc158 \uc0dd\uc131\n    const session = await ort.InferenceSession.create(modelUrl, {\n      executionProviders: ['webgpu', 'webgl', 'wasm']\n    });\n\n    this.sessions.set(modelName, session);\n    return session;\n  }\n\n  private async evictOldestSession() {\n    const firstKey = this.sessions.keys().next().value;\n    if (firstKey) {\n      const session = this.sessions.get(firstKey)!;\n      await this.releaseSession(firstKey);\n    }\n  }\n\n  async releaseSession(modelName: string) {\n    const session = this.sessions.get(modelName);\n    if (session) {\n      try {\n        session.release();\n        this.sessions.delete(modelName);\n        console.log(`\uc138\uc158 \ud574\uc81c\ub428: ${modelName}`);\n      } catch (error) {\n        console.error(`\uc138\uc158 \ud574\uc81c \uc2e4\ud328: ${modelName}`, error);\n      }\n    }\n  }\n\n  // \ud150\uc11c \uc0dd\uc131 \uc2dc \ucd94\uc801\n  createTensor(type: string, data: Float32Array, dims: number[]): ort.Tensor {\n    const tensor = new ort.Tensor(type as any, data, dims);\n    this.tensors.add(tensor);\n    return tensor;\n  }\n\n  // \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \ud150\uc11c \ud574\uc81c\n  releaseTensor(tensor: ort.Tensor) {\n    if (this.tensors.has(tensor)) {\n      try {\n        tensor.dispose();\n        this.tensors.delete(tensor);\n      } catch (error) {\n        console.error('\ud150\uc11c \ud574\uc81c \uc2e4\ud328:', error);\n      }\n    }\n  }\n\n  // \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc815\ub9ac\n  async cleanup() {\n    // \ubaa8\ub4e0 \uc138\uc158 \ud574\uc81c\n    const sessionNames = Array.from(this.sessions.keys());\n    for (const name of sessionNames) {\n      await this.releaseSession(name);\n    }\n\n    // \ubaa8\ub4e0 \ud150\uc11c \ud574\uc81c\n    this.tensors.forEach(tensor => {\n      try {\n        tensor.dispose();\n      } catch (error) {\n        console.error('\ud150\uc11c \ud574\uc81c \uc2e4\ud328:', error);\n      }\n    });\n    this.tensors.clear();\n  }\n\n  // \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \ubaa8\ub2c8\ud130\ub9c1\n  getMemoryUsage() {\n    return {\n      activeSessions: this.sessions.size,\n      activeTensors: this.tensors.size,\n      jsHeapUsed: (performance as any).memory?.usedJSHeapSize || 0,\n      jsHeapTotal: (performance as any).memory?.totalJSHeapSize || 0\n    };\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ubc30\uce58-\ucc98\ub9ac-\ucd5c\uc801\ud654",children:"\ubc30\uce58 \ucc98\ub9ac \ucd5c\uc801\ud654"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class BatchProcessor {\n  private session: ort.InferenceSession;\n  private batchSize: number;\n\n  constructor(session: ort.InferenceSession, batchSize: number = 4) {\n    this.session = session;\n    this.batchSize = batchSize;\n  }\n\n  async processBatch(images: HTMLImageElement[]): Promise<any[]> {\n    const results: any[] = [];\n    \n    // \uc774\ubbf8\uc9c0\ub97c \ubc30\uce58 \ud06c\uae30\ub9cc\ud07c \ub098\ub204\uc5b4 \ucc98\ub9ac\n    for (let i = 0; i < images.length; i += this.batchSize) {\n      const batch = images.slice(i, i + this.batchSize);\n      const batchResults = await this.processSingleBatch(batch);\n      results.push(...batchResults);\n    }\n    \n    return results;\n  }\n\n  private async processSingleBatch(images: HTMLImageElement[]): Promise<any[]> {\n    // \ubc30\uce58 \uc785\ub825 \ud150\uc11c \uc0dd\uc131\n    const batchTensor = this.createBatchTensor(images);\n    \n    const feeds = { input: batchTensor };\n    const outputs = await this.session.run(feeds);\n    \n    // \ubc30\uce58 \ucd9c\ub825\uc744 \uac1c\ubcc4 \uacb0\uacfc\ub85c \ubd84\ub9ac\n    return this.splitBatchOutput(outputs, images.length);\n  }\n\n  private createBatchTensor(images: HTMLImageElement[]): ort.Tensor {\n    const batchSize = images.length;\n    const [channels, height, width] = [3, 224, 224];\n    \n    const batchData = new Float32Array(batchSize * channels * height * width);\n    \n    images.forEach((image, batchIndex) => {\n      const imageData = this.preprocessImage(image);\n      const offset = batchIndex * channels * height * width;\n      batchData.set(imageData, offset);\n    });\n    \n    return new ort.Tensor('float32', batchData, [batchSize, channels, height, width]);\n  }\n\n  private preprocessImage(image: HTMLImageElement): Float32Array {\n    // \uc774\ubbf8\uc9c0 \uc804\ucc98\ub9ac \ub85c\uc9c1 (\uc774\uc804 \uc608\uc81c\uc640 \ub3d9\uc77c)\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d')!;\n    \n    canvas.width = 224;\n    canvas.height = 224;\n    ctx.drawImage(image, 0, 0, 224, 224);\n    \n    const imageData = ctx.getImageData(0, 0, 224, 224);\n    const pixels = imageData.data;\n    const float32Data = new Float32Array(3 * 224 * 224);\n    \n    for (let i = 0; i < pixels.length; i += 4) {\n      const pixelIndex = i / 4;\n      const r = (pixels[i] / 255.0 - 0.5) * 2;\n      const g = (pixels[i + 1] / 255.0 - 0.5) * 2;\n      const b = (pixels[i + 2] / 255.0 - 0.5) * 2;\n      \n      float32Data[pixelIndex] = r;\n      float32Data[pixelIndex + (224 * 224)] = g;\n      float32Data[pixelIndex + (2 * 224 * 224)] = b;\n    }\n    \n    return float32Data;\n  }\n\n  private splitBatchOutput(outputs: any, batchSize: number): any[] {\n    const results: any[] = [];\n    const outputData = outputs[Object.keys(outputs)[0]].data;\n    const outputSize = outputData.length / batchSize;\n    \n    for (let i = 0; i < batchSize; i++) {\n      const start = i * outputSize;\n      const end = start + outputSize;\n      results.push(outputData.slice(start, end));\n    }\n    \n    return results;\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc131\ub2a5-\ubaa8\ub2c8\ud130\ub9c1",children:"\uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class PerformanceMonitor {\n  private metrics: Map<string, number[]> = new Map();\n\n  startTimer(label: string): string {\n    const timerId = `${label}_${Date.now()}`;\n    this.metrics.set(timerId, [performance.now()]);\n    return timerId;\n  }\n\n  endTimer(timerId: string): number {\n    const times = this.metrics.get(timerId);\n    if (times) {\n      const duration = performance.now() - times[0];\n      times.push(duration);\n      return duration;\n    }\n    return 0;\n  }\n\n  async measureInference(\n    session: ort.InferenceSession,\n    inputs: { [key: string]: ort.Tensor }\n  ): Promise<{ results: any; metrics: any }> {\n    const timerId = this.startTimer('inference');\n    \n    // GPU \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \uce21\uc815 (WebGPU\uc778 \uacbd\uc6b0)\n    const beforeMemory = this.getMemoryUsage();\n    \n    const results = await session.run(inputs);\n    \n    const afterMemory = this.getMemoryUsage();\n    const inferenceTime = this.endTimer(timerId);\n    \n    return {\n      results,\n      metrics: {\n        inferenceTime,\n        memoryDelta: afterMemory.jsHeapUsed - beforeMemory.jsHeapUsed,\n        memoryUsage: afterMemory\n      }\n    };\n  }\n\n  private getMemoryUsage() {\n    return {\n      jsHeapUsed: (performance as any).memory?.usedJSHeapSize || 0,\n      jsHeapTotal: (performance as any).memory?.totalJSHeapSize || 0,\n      jsHeapLimit: (performance as any).memory?.jsHeapSizeLimit || 0\n    };\n  }\n\n  getAverageTime(label: string): number {\n    const allTimes: number[] = [];\n    \n    for (const [key, times] of this.metrics.entries()) {\n      if (key.startsWith(label) && times.length > 1) {\n        allTimes.push(times[1]); // \ub450 \ubc88\uc9f8 \uc694\uc18c\ub294 \uc2e4\ud589 \uc2dc\uac04\n      }\n    }\n    \n    return allTimes.length > 0 \n      ? allTimes.reduce((sum, time) => sum + time, 0) / allTimes.length \n      : 0;\n  }\n\n  logPerformanceReport() {\n    console.log('=== \uc131\ub2a5 \ub9ac\ud3ec\ud2b8 ===');\n    console.log(`\ud3c9\uade0 \ucd94\ub860 \uc2dc\uac04: ${this.getAverageTime('inference').toFixed(2)}ms`);\n    console.log('\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9:', this.getMemoryUsage());\n    \n    // \ube0c\ub77c\uc6b0\uc800\ubcc4 \uc131\ub2a5 \uc815\ubcf4\n    if ('gpu' in navigator) {\n      console.log('WebGPU \uc9c0\uc6d0: \uac00\ub2a5');\n    } else {\n      console.log('WebGPU \uc9c0\uc6d0: \ubd88\uac00\ub2a5');\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ucd5c\uc801\ud654-\uc801\uc6a9-\uc608\uc81c",children:"\ucd5c\uc801\ud654 \uc801\uc6a9 \uc608\uc81c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"async function optimizedInference() {\n  const memoryManager = MemoryManager.getInstance();\n  const performanceMonitor = new PerformanceMonitor();\n  \n  try {\n    // 1. \ucd5c\uc801\ud654\ub41c \uc138\uc158 \ub85c\ub4dc\n    const session = await memoryManager.getSession('mobilenet', '/models/mobilenet_v2.onnx');\n    \n    // 2. \ubc30\uce58 \ud504\ub85c\uc138\uc11c \uc0dd\uc131\n    const batchProcessor = new BatchProcessor(session, 4);\n    \n    // 3. \uc774\ubbf8\uc9c0 \uc900\ube44\n    const images = [\n      document.getElementById('img1') as HTMLImageElement,\n      document.getElementById('img2') as HTMLImageElement,\n      document.getElementById('img3') as HTMLImageElement,\n      document.getElementById('img4') as HTMLImageElement,\n    ];\n    \n    // 4. \ubc30\uce58 \ucc98\ub9ac \uc2e4\ud589\n    const timerId = performanceMonitor.startTimer('batch_inference');\n    const results = await batchProcessor.processBatch(images);\n    const processingTime = performanceMonitor.endTimer(timerId);\n    \n    console.log(`\ubc30\uce58 \ucc98\ub9ac \uc644\ub8cc: ${processingTime.toFixed(2)}ms`);\n    console.log('\uacb0\uacfc:', results);\n    \n    // 5. \uc131\ub2a5 \ub9ac\ud3ec\ud2b8 \ucd9c\ub825\n    performanceMonitor.logPerformanceReport();\n    \n  } catch (error) {\n    console.error('\ucd5c\uc801\ud654\ub41c \ucd94\ub860 \uc2e4\ud589 \uc2e4\ud328:', error);\n  } finally {\n    // 6. \ub9ac\uc18c\uc2a4 \uc815\ub9ac (\ud544\uc694\uc2dc)\n    // await memoryManager.cleanup();\n  }\n}\n\n// \ud398\uc774\uc9c0 \uc5b8\ub85c\ub4dc \uc2dc \ub9ac\uc18c\uc2a4 \uc815\ub9ac\nwindow.addEventListener('beforeunload', async () => {\n  const memoryManager = MemoryManager.getInstance();\n  await memoryManager.cleanup();\n});\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uc5d0\ub7ec-\ucc98\ub9ac-\ubc0f-\ub514\ubc84\uae45",children:"\uc5d0\ub7ec \ucc98\ub9ac \ubc0f \ub514\ubc84\uae45"}),"\n",(0,r.jsx)(e.h3,{id:"\uc77c\ubc18\uc801\uc778-\uc5d0\ub7ec-\uc720\ud615\uacfc-\ud574\uacb0-\ubc29\ubc95",children:"\uc77c\ubc18\uc801\uc778 \uc5d0\ub7ec \uc720\ud615\uacfc \ud574\uacb0 \ubc29\ubc95"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class ONNXErrorHandler {\n  private static readonly ERROR_MESSAGES = {\n    MODEL_LOAD_FAILED: '\ubaa8\ub378 \ub85c\ub4dc \uc2e4\ud328',\n    INVALID_INPUT: '\uc798\ubabb\ub41c \uc785\ub825 \ub370\uc774\ud130',\n    INFERENCE_FAILED: '\ucd94\ub860 \uc2e4\ud589 \uc2e4\ud328',\n    MEMORY_ERROR: '\uba54\ubaa8\ub9ac \ubd80\uc871',\n    BACKEND_ERROR: '\ubc31\uc5d4\ub4dc \ucd08\uae30\ud654 \uc2e4\ud328'\n  };\n\n  static handleError(error: any, context: string): never {\n    console.error(`[${context}] \uc5d0\ub7ec \ubc1c\uc0dd:`, error);\n    \n    if (error.message?.includes('no available backend found')) {\n      throw new Error(`${this.ERROR_MESSAGES.BACKEND_ERROR}: \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubc31\uc5d4\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. Vite \uc124\uc815\uc744 \ud655\uc778\ud558\uc138\uc694.`);\n    }\n    \n    if (error.message?.includes('Failed to fetch')) {\n      throw new Error(`${this.ERROR_MESSAGES.MODEL_LOAD_FAILED}: \ubaa8\ub378 \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uacbd\ub85c\ub97c \ud655\uc778\ud558\uc138\uc694.`);\n    }\n    \n    if (error.message?.includes('Input dimension mismatch')) {\n      throw new Error(`${this.ERROR_MESSAGES.INVALID_INPUT}: \uc785\ub825 \ud150\uc11c \ud06c\uae30\uac00 \ubaa8\ub378 \uc694\uad6c\uc0ac\ud56d\uacfc \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.`);\n    }\n    \n    if (error.message?.includes('out of memory')) {\n      throw new Error(`${this.ERROR_MESSAGES.MEMORY_ERROR}: GPU \uba54\ubaa8\ub9ac\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4. \ubc30\uce58 \ud06c\uae30\ub97c \uc904\uc774\uac70\ub098 WASM \ubc31\uc5d4\ub4dc\ub97c \uc0ac\uc6a9\ud558\uc138\uc694.`);\n    }\n    \n    throw new Error(`\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec: ${error.message}`);\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uac15\ub825\ud55c-\uc5d0\ub7ec-\ucc98\ub9ac\ub97c-\uac00\uc9c4-\ubaa8\ub378-\ub798\ud37c",children:"\uac15\ub825\ud55c \uc5d0\ub7ec \ucc98\ub9ac\ub97c \uac00\uc9c4 \ubaa8\ub378 \ub798\ud37c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class RobustONNXModel {\n  private session: ort.InferenceSession | null = null;\n  private retryCount = 0;\n  private maxRetries = 3;\n  private backoffDelay = 1000; // 1\ucd08\n\n  async initialize(modelUrl: string): Promise<void> {\n    for (let attempt = 0; attempt <= this.maxRetries; attempt++) {\n      try {\n        this.session = await this.createSessionWithFallback(modelUrl);\n        console.log('\ubaa8\ub378 \ucd08\uae30\ud654 \uc131\uacf5');\n        return;\n      } catch (error) {\n        console.warn(`\ucd08\uae30\ud654 \uc2dc\ub3c4 ${attempt + 1}/${this.maxRetries + 1} \uc2e4\ud328:`, error);\n        \n        if (attempt < this.maxRetries) {\n          await this.delay(this.backoffDelay * (attempt + 1));\n        } else {\n          ONNXErrorHandler.handleError(error, 'MODEL_INITIALIZATION');\n        }\n      }\n    }\n  }\n\n  private async createSessionWithFallback(modelUrl: string): Promise<ort.InferenceSession> {\n    const providers = ['webgpu', 'webgl', 'wasm'];\n    let lastError: any;\n\n    for (const provider of providers) {\n      try {\n        console.log(`${provider} \ubc31\uc5d4\ub4dc\ub85c \uc2dc\ub3c4 \uc911...`);\n        const session = await ort.InferenceSession.create(modelUrl, {\n          executionProviders: [provider],\n        });\n        console.log(`${provider} \ubc31\uc5d4\ub4dc\ub85c \uc131\uacf5`);\n        return session;\n      } catch (error) {\n        console.warn(`${provider} \ubc31\uc5d4\ub4dc \uc2e4\ud328:`, error);\n        lastError = error;\n        continue;\n      }\n    }\n\n    throw lastError;\n  }\n\n  async predict(inputData: ort.Tensor): Promise<any> {\n    if (!this.session) {\n      throw new Error('\ubaa8\ub378\uc774 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4');\n    }\n\n    try {\n      // \uc785\ub825 \uc720\ud6a8\uc131 \uac80\uc0ac\n      this.validateInput(inputData);\n      \n      // \ucd94\ub860 \uc2e4\ud589\n      const feeds = { [this.session.inputNames[0]]: inputData };\n      const results = await this.session.run(feeds);\n      \n      return results;\n    } catch (error) {\n      ONNXErrorHandler.handleError(error, 'INFERENCE');\n    }\n  }\n\n  private validateInput(inputData: ort.Tensor): void {\n    if (!this.session) return;\n\n    const expectedInput = this.session.inputMetadata[this.session.inputNames[0]];\n    const expectedShape = expectedInput.dims as number[];\n    \n    // \ub3d9\uc801 \ucc28\uc6d0(-1) \ubb34\uc2dc\ud558\uace0 \ube44\uad50\n    const actualShape = inputData.dims;\n    \n    for (let i = 0; i < expectedShape.length; i++) {\n      if (expectedShape[i] !== -1 && expectedShape[i] !== actualShape[i]) {\n        throw new Error(\n          `\uc785\ub825 \ud615\ud0dc \ubd88\uc77c\uce58: \uc608\uc0c1 ${expectedShape}, \uc2e4\uc81c ${actualShape}`\n        );\n      }\n    }\n  }\n\n  private delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async dispose(): Promise<void> {\n    if (this.session) {\n      try {\n        this.session.release();\n        this.session = null;\n        console.log('\ubaa8\ub378 \ub9ac\uc18c\uc2a4 \ud574\uc81c \uc644\ub8cc');\n      } catch (error) {\n        console.error('\ubaa8\ub378 \ud574\uc81c \uc911 \uc5d0\ub7ec:', error);\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ub514\ubc84\uae45-\ub3c4\uad6c",children:"\ub514\ubc84\uae45 \ub3c4\uad6c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class ONNXDebugger {\n  private static logs: string[] = [];\n  \n  static enableDebugMode(): void {\n    // ONNX Runtime \ub85c\uadf8 \ub808\ubca8 \uc124\uc815\n    ort.env.logLevel = 'verbose';\n    console.log('ONNX \ub514\ubc84\uadf8 \ubaa8\ub4dc \ud65c\uc131\ud654');\n  }\n\n  static logModelInfo(session: ort.InferenceSession): void {\n    console.group('=== \ubaa8\ub378 \uc815\ubcf4 ===');\n    \n    console.log('\uc785\ub825 \uc815\ubcf4:');\n    session.inputNames.forEach(name => {\n      const metadata = session.inputMetadata[name];\n      console.log(`  ${name}:`, {\n        type: metadata.type,\n        dims: metadata.dims\n      });\n    });\n    \n    console.log('\ucd9c\ub825 \uc815\ubcf4:');\n    session.outputNames.forEach(name => {\n      const metadata = session.outputMetadata[name];\n      console.log(`  ${name}:`, {\n        type: metadata.type,\n        dims: metadata.dims\n      });\n    });\n    \n    console.groupEnd();\n  }\n\n  static logTensorInfo(tensor: ort.Tensor, name: string): void {\n    const stats = this.calculateTensorStats(tensor.data as Float32Array);\n    \n    console.log(`\ud150\uc11c \uc815\ubcf4 - ${name}:`, {\n      type: tensor.type,\n      dims: tensor.dims,\n      size: tensor.size,\n      stats\n    });\n  }\n\n  private static calculateTensorStats(data: Float32Array) {\n    const values = Array.from(data);\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const mean = values.reduce((sum, val) => sum + val, 0) / values.length;\n    \n    // \ud45c\uc900\ud3b8\ucc28 \uacc4\uc0b0\n    const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n    const std = Math.sqrt(variance);\n    \n    return { min, max, mean: mean.toFixed(6), std: std.toFixed(6) };\n  }\n\n  static async profileInference(\n    session: ort.InferenceSession,\n    inputs: { [key: string]: ort.Tensor },\n    runs: number = 10\n  ): Promise<void> {\n    console.log(`=== \uc131\ub2a5 \ud504\ub85c\ud30c\uc77c\ub9c1 (${runs}\ud68c \uc2e4\ud589) ===`);\n    \n    const times: number[] = [];\n    \n    // \uc6dc\uc5c5 \uc2e4\ud589\n    await session.run(inputs);\n    \n    for (let i = 0; i < runs; i++) {\n      const startTime = performance.now();\n      await session.run(inputs);\n      const endTime = performance.now();\n      \n      times.push(endTime - startTime);\n    }\n    \n    const avgTime = times.reduce((sum, time) => sum + time, 0) / times.length;\n    const minTime = Math.min(...times);\n    const maxTime = Math.max(...times);\n    \n    console.log('\ud504\ub85c\ud30c\uc77c\ub9c1 \uacb0\uacfc:', {\n      \ud3c9\uade0\uc2dc\uac04: `${avgTime.toFixed(2)}ms`,\n      \ucd5c\uc18c\uc2dc\uac04: `${minTime.toFixed(2)}ms`,\n      \ucd5c\ub300\uc2dc\uac04: `${maxTime.toFixed(2)}ms`,\n      \uc804\uccb4\uc2dc\uac04: times\n    });\n  }\n\n  static checkBrowserSupport(): void {\n    console.group('=== \ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0 \ud604\ud669 ===');\n    \n    // WebGPU \uc9c0\uc6d0 \ud655\uc778\n    const webgpuSupported = 'gpu' in navigator;\n    console.log('WebGPU \uc9c0\uc6d0:', webgpuSupported ? '\u2705' : '\u274c');\n    \n    // WebGL \uc9c0\uc6d0 \ud655\uc778\n    const canvas = document.createElement('canvas');\n    const webglContext = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n    console.log('WebGL \uc9c0\uc6d0:', webglContext ? '\u2705' : '\u274c');\n    \n    // WASM \uc9c0\uc6d0 \ud655\uc778\n    const wasmSupported = typeof WebAssembly !== 'undefined';\n    console.log('WebAssembly \uc9c0\uc6d0:', wasmSupported ? '\u2705' : '\u274c');\n    \n    // SharedArrayBuffer \uc9c0\uc6d0 \ud655\uc778 (\uba40\ud2f0\uc2a4\ub808\ub529\uc6a9)\n    const sharedArrayBufferSupported = typeof SharedArrayBuffer !== 'undefined';\n    console.log('SharedArrayBuffer \uc9c0\uc6d0:', sharedArrayBufferSupported ? '\u2705' : '\u274c');\n    \n    console.groupEnd();\n  }\n\n  static logError(error: any, context: string): void {\n    const errorLog = `[${new Date().toISOString()}] ${context}: ${error.message}`;\n    this.logs.push(errorLog);\n    \n    console.error(`\ud83d\udea8 ${context}:`, {\n      message: error.message,\n      stack: error.stack,\n      name: error.name\n    });\n  }\n\n  static exportLogs(): string {\n    return this.logs.join('\\n');\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ud1b5\ud569-\ub514\ubc84\uae45-\uc608\uc81c",children:"\ud1b5\ud569 \ub514\ubc84\uae45 \uc608\uc81c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"async function debugONNXImplementation() {\n  // 1. \ub514\ubc84\uadf8 \ubaa8\ub4dc \ud65c\uc131\ud654\n  ONNXDebugger.enableDebugMode();\n  \n  // 2. \ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0 \ud655\uc778\n  ONNXDebugger.checkBrowserSupport();\n  \n  try {\n    // 3. \uac15\ub825\ud55c \ubaa8\ub378 \ucd08\uae30\ud654\n    const model = new RobustONNXModel();\n    await model.initialize('/models/mobilenet_v2.onnx');\n    \n    // 4. \ubaa8\ub378 \uc815\ubcf4 \ub85c\uadf8\n    if (model['session']) {\n      ONNXDebugger.logModelInfo(model['session']);\n    }\n    \n    // 5. \ud14c\uc2a4\ud2b8 \uc785\ub825 \uc0dd\uc131\n    const testInput = new ort.Tensor(\n      'float32',\n      new Float32Array(1 * 3 * 224 * 224).fill(0.5),\n      [1, 3, 224, 224]\n    );\n    \n    // 6. \uc785\ub825 \ud150\uc11c \uc815\ubcf4 \ub85c\uadf8\n    ONNXDebugger.logTensorInfo(testInput, '\ud14c\uc2a4\ud2b8 \uc785\ub825');\n    \n    // 7. \ucd94\ub860 \uc2e4\ud589 \ubc0f \ud504\ub85c\ud30c\uc77c\ub9c1\n    const results = await model.predict(testInput);\n    \n    // 8. \ucd9c\ub825 \uacb0\uacfc \ub85c\uadf8\n    Object.keys(results).forEach(key => {\n      ONNXDebugger.logTensorInfo(results[key], `\ucd9c\ub825: ${key}`);\n    });\n    \n    // 9. \uc131\ub2a5 \ud504\ub85c\ud30c\uc77c\ub9c1\n    if (model['session']) {\n      await ONNXDebugger.profileInference(\n        model['session'],\n        { input: testInput },\n        10\n      );\n    }\n    \n    console.log('\u2705 \ub514\ubc84\uae45 \uc644\ub8cc');\n    \n  } catch (error) {\n    ONNXDebugger.logError(error, 'DEBUG_IMPLEMENTATION');\n    \n    // \ub514\ubc84\uadf8 \ub85c\uadf8 \ucd9c\ub825\n    console.log('=== \uc5d0\ub7ec \ub85c\uadf8 ===');\n    console.log(ONNXDebugger.exportLogs());\n  }\n}\n\n// \uc804\uc5ed \uc5d0\ub7ec \ud578\ub4e4\ub7ec \uc124\uce58\nwindow.addEventListener('error', (event) => {\n  ONNXDebugger.logError(event.error, 'GLOBAL_ERROR');\n});\n\nwindow.addEventListener('unhandledrejection', (event) => {\n  ONNXDebugger.logError(event.reason, 'UNHANDLED_PROMISE_REJECTION');\n});\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc2e4\uc6a9\uc801\uc778-\ud2b8\ub7ec\ube14\uc288\ud305-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",children:"\uc2e4\uc6a9\uc801\uc778 \ud2b8\ub7ec\ube14\uc288\ud305 \uccb4\ud06c\ub9ac\uc2a4\ud2b8"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class TroubleshootingGuide {\n  static async diagnose(): Promise<void> {\n    console.log('\ud83d\udd0d ONNX Runtime Web \uc9c4\ub2e8 \uc2dc\uc791...\\n');\n    \n    // 1. \uae30\ubcf8 \ud658\uacbd \ud655\uc778\n    this.checkEnvironment();\n    \n    // 2. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ud655\uc778\n    await this.checkNetworkAccess();\n    \n    // 3. \ubaa8\ub378 \ud30c\uc77c \ud655\uc778\n    await this.checkModelAccess();\n    \n    // 4. Vite \uc124\uc815 \ud655\uc778\n    this.checkViteConfig();\n    \n    console.log('\u2705 \uc9c4\ub2e8 \uc644\ub8cc');\n  }\n\n  private static checkEnvironment(): void {\n    console.log('\ud83d\udccb \ud658\uacbd \ud655\uc778:');\n    console.log('- User Agent:', navigator.userAgent);\n    console.log('- HTTPS:', location.protocol === 'https:' ? '\u2705' : '\u274c');\n    console.log('- localhost:', location.hostname === 'localhost' ? '\u2705' : '\u274c');\n  }\n\n  private static async checkNetworkAccess(): Promise<void> {\n    console.log('\\n\ud83c\udf10 \ub124\ud2b8\uc6cc\ud06c \uc811\uadfc \ud655\uc778:');\n    \n    try {\n      const response = await fetch(location.origin);\n      console.log('- \uc11c\ubc84 \uc811\uadfc:', response.ok ? '\u2705' : '\u274c');\n    } catch (error) {\n      console.log('- \uc11c\ubc84 \uc811\uadfc: \u274c', error);\n    }\n  }\n\n  private static async checkModelAccess(): Promise<void> {\n    console.log('\\n\ud83d\udce6 \ubaa8\ub378 \ud30c\uc77c \uc811\uadfc \ud655\uc778:');\n    \n    const testPaths = ['/models/', '/public/models/', '/assets/models/'];\n    \n    for (const path of testPaths) {\n      try {\n        const response = await fetch(`${location.origin}${path}`);\n        console.log(`- ${path}:`, response.ok ? '\u2705' : '\u274c');\n      } catch (error) {\n        console.log(`- ${path}: \u274c`);\n      }\n    }\n  }\n\n  private static checkViteConfig(): void {\n    console.log('\\n\u2699\ufe0f Vite \uc124\uc815 \ud655\uc778 \uac00\uc774\ub4dc:');\n    console.log('\ub2e4\uc74c \uc124\uc815\uc774 vite.config.ts\uc5d0 \ud3ec\ud568\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4:');\n    console.log(`\nexport default defineConfig({\n  assetsInclude: [\"**/*.onnx\"],\n  optimizeDeps: {\n    exclude: [\"onnxruntime-web\"],\n  },\n});\n    `);\n  }\n}\n\n// \ud398\uc774\uc9c0 \ub85c\ub4dc \uc2dc \uc790\ub3d9 \uc9c4\ub2e8 (\uac1c\ubc1c \ubaa8\ub4dc\uc5d0\uc11c\ub9cc)\nif (process.env.NODE_ENV === 'development') {\n  window.addEventListener('load', () => {\n    TroubleshootingGuide.diagnose();\n  });\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ub9c8\ubb34\ub9ac",children:"\ub9c8\ubb34\ub9ac"}),"\n",(0,r.jsx)(e.p,{children:"\uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 ONNX Runtime Web\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc6f9 \ud658\uacbd\uc5d0\uc11c AI \ubaa8\ub378\uc744 \uc2e4\ud589\ud558\ub294 \ubc29\ubc95\uc744 \uc790\uc138\ud788 \ub2e4\ub918\uc2b5\ub2c8\ub2e4. Vite \ud658\uacbd\uc5d0\uc11c\uc758 \uc124\uc815\ubd80\ud130 \uc2e4\uc81c Vision AI \ubaa8\ub378 \uc801\uc6a9, \uc131\ub2a5 \ucd5c\uc801\ud654, \uc5d0\ub7ec \ucc98\ub9ac\uae4c\uc9c0 \uc2e4\ubb34\uc5d0\uc11c \ud544\uc694\ud55c \ubaa8\ub4e0 \ub0b4\uc6a9\uc744 \ud3ec\ud568\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(e.h3,{id:"\uc8fc\uc694-\ud3ec\uc778\ud2b8-\uc694\uc57d",children:"\uc8fc\uc694 \ud3ec\uc778\ud2b8 \uc694\uc57d"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ud658\uacbd \uc124\uc815"}),": Vite\uc5d0\uc11c ",(0,r.jsx)(e.code,{children:"assetsInclude"}),"\uc640 ",(0,r.jsx)(e.code,{children:"optimizeDeps"})," \uc124\uc815 \ud544\uc218"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ubc31\uc5d4\ub4dc \uc120\ud0dd"}),": WebGPU > WebGL > WASM \uc21c\uc11c\ub85c \ud3f4\ubc31 \uc804\ub7b5 \uad6c\ud604"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ubaa8\ub378 \uad00\ub9ac"}),": IndexedDB\ub97c \ud65c\uc6a9\ud55c \uce90\uc2f1\uacfc \ubc84\uc804 \uad00\ub9ac\ub85c \uc0ac\uc6a9\uc790 \uacbd\ud5d8 \ud5a5\uc0c1"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uc131\ub2a5 \ucd5c\uc801\ud654"}),": \uc6dc\uc5c5, \ubc30\uce58 \ucc98\ub9ac, \uba54\ubaa8\ub9ac \uad00\ub9ac\ub85c \ucd5c\uc801 \uc131\ub2a5 \ub2ec\uc131"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uc5d0\ub7ec \ucc98\ub9ac"}),": \uac15\ub825\ud55c \uc5d0\ub7ec \ud578\ub4e4\ub9c1\uacfc \ub514\ubc84\uae45 \ub3c4\uad6c\ub85c \uc548\uc815\uc131 \ud655\ubcf4"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\uc6f9\uc5d0\uc11c\uc758 AI \ubaa8\ub378 \uc2e4\ud589\uc740 \uc774\uc81c \ub354 \uc774\uc0c1 \uc2e4\ud5d8\uc801\uc778 \uae30\uc220\uc774 \uc544\ub2d9\ub2c8\ub2e4. \uc801\uc808\ud55c \ucd5c\uc801\ud654\uc640 \uc5d0\ub7ec \ucc98\ub9ac\ub97c \ud1b5\ud574 \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\ub3c4 \ucda9\ubd84\ud788 \ud65c\uc6a9\ud560 \uc218 \uc788\ub294 \uc131\uc219\ud55c \uae30\uc220\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]})}function m(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},9365:(n,e,t)=>{t.d(e,{A:()=>o});t(6540);var s=t(4164);const r={tabItem:"tabItem_Ymn6"};var i=t(4848);function o(n){let{children:e,hidden:t,className:o}=n;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,o),hidden:t,children:e})}},1470:(n,e,t)=>{t.d(e,{A:()=>y});var s=t(6540),r=t(4164),i=t(3104),o=t(6347),a=t(205),l=t(7485),c=t(1682),d=t(679);function u(n){return s.Children.toArray(n).filter((n=>"\n"!==n)).map((n=>{if(!n||(0,s.isValidElement)(n)&&function(n){const{props:e}=n;return!!e&&"object"==typeof e&&"value"in e}(n))return n;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof n.type?n.type:n.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(n){const{values:e,children:t}=n;return(0,s.useMemo)((()=>{const n=e??function(n){return u(n).map((n=>{let{props:{value:e,label:t,attributes:s,default:r}}=n;return{value:e,label:t,attributes:s,default:r}}))}(t);return function(n){const e=(0,c.XI)(n,((n,e)=>n.value===e.value));if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map((n=>n.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(n),n}),[e,t])}function m(n){let{value:e,tabValues:t}=n;return t.some((n=>n.value===e))}function p(n){let{queryString:e=!1,groupId:t}=n;const r=(0,o.W6)(),i=function(n){let{queryString:e=!1,groupId:t}=n;if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(i),(0,s.useCallback)((n=>{if(!i)return;const e=new URLSearchParams(r.location.search);e.set(i,n),r.replace({...r.location,search:e.toString()})}),[i,r])]}function g(n){const{defaultValue:e,queryString:t=!1,groupId:r}=n,i=h(n),[o,l]=(0,s.useState)((()=>function(n){let{defaultValue:e,tabValues:t}=n;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((n=>n.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=t.find((n=>n.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:e,tabValues:i}))),[c,u]=p({queryString:t,groupId:r}),[g,x]=function(n){let{groupId:e}=n;const t=function(n){return n?`docusaurus.tab.${n}`:null}(e),[r,i]=(0,d.Dv)(t);return[r,(0,s.useCallback)((n=>{t&&i.set(n)}),[t,i])]}({groupId:r}),f=(()=>{const n=c??g;return m({value:n,tabValues:i})?n:null})();(0,a.A)((()=>{f&&l(f)}),[f]);return{selectedValue:o,selectValue:(0,s.useCallback)((n=>{if(!m({value:n,tabValues:i}))throw new Error(`Can't select invalid tab value=${n}`);l(n),u(n),x(n)}),[u,x,i]),tabValues:i}}var x=t(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function v(n){let{className:e,block:t,selectedValue:s,selectValue:o,tabValues:a}=n;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),d=n=>{const e=n.currentTarget,t=l.indexOf(e),r=a[t].value;r!==s&&(c(e),o(r))},u=n=>{let e=null;switch(n.key){case"Enter":d(n);break;case"ArrowRight":{const t=l.indexOf(n.currentTarget)+1;e=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(n.currentTarget)-1;e=l[t]??l[l.length-1];break}}e?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:a.map((n=>{let{value:e,label:t,attributes:i}=n;return(0,b.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:n=>l.push(n),onKeyDown:u,onClick:d,...i,className:(0,r.A)("tabs__item",f.tabItem,i?.className,{"tabs__item--active":s===e}),children:t??e},e)}))})}function j(n){let{lazy:e,children:t,selectedValue:i}=n;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const n=o.find((n=>n.props.value===i));return n?(0,s.cloneElement)(n,{className:(0,r.A)("margin-top--md",n.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((n,e)=>(0,s.cloneElement)(n,{key:e,hidden:n.props.value!==i})))})}function w(n){const e=g(n);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",f.tabList),children:[(0,b.jsx)(v,{...e,...n}),(0,b.jsx)(j,{...e,...n})]})}function y(n){const e=(0,x.A)();return(0,b.jsx)(w,{...n,children:u(n.children)},String(e))}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>a});var s=t(6540);const r={},i=s.createContext(r);function o(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),s.createElement(i.Provider,{value:e},n.children)}},4668:n=>{n.exports=JSON.parse('{"permalink":"/blog/onnx-on-web","editUrl":"https://github.com/mooyeon-choi/mooyeon-choi.github.io/tree/master/blog/2025-07-28-onnx-on-web.md","source":"@site/blog/2025-07-28-onnx-on-web.md","title":"Onnx web runtime \uad6c\ucd95\ud558\uae30 with Vite","description":"\uc18c\uac1c","date":"2025-07-28T20:25:00.000Z","tags":[{"inline":true,"label":"web","permalink":"/blog/tags/web"},{"inline":true,"label":"onnx","permalink":"/blog/tags/onnx"},{"inline":true,"label":"vit","permalink":"/blog/tags/vit"}],"hasTruncateMarker":false,"authors":[{"name":"Mooyeon Choi","url":"https://github.com/mooyeon-choi","imageURL":"https://github.com/mooyeon-choi.png","key":"mooyeon","page":null}],"frontMatter":{"slug":"onnx-on-web","title":"Onnx web runtime \uad6c\ucd95\ud558\uae30 with Vite","authors":"mooyeon","tags":["web","onnx","vit"],"date":"2025-07-28T20:25"},"unlisted":false,"nextItem":{"title":"\uc65c eslint-plugin-tailwindcss \ub97c \ubc84\ub9ac\uace0 eslint-plugin-better-tailwindcss \ub97c \uc0c8\ub85c \uac1c\ubc1c\ud558\uc600\uc744\uae4c?","permalink":"/blog/eslint-with-tailwindcss"}}')}}]);