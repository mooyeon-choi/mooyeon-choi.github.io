---
sidebar_position: 1
---

# 웹 요청과 응답과정

## URL 입력 및 요청 준비

사용자가 웹 브라우저에 **URL(Uniform Resource Locator)**을 입력하거나 하이퍼링크를 클릭하면 웹 요청이 시작됩니다. URL은 특정 웹 페이지나 리소스에 대한 주소로, 웹 브라우저가 서버에 연결하는 데 필요한 정보를 제공합니다. URL은 다음과 같은 구성 요소로 이루어져 있습니다:

프로토콜: http:// 또는 https:// (보안 통신)
도메인 이름: 예를 들어 www.example.com (서버의 주소)
경로(Path): 예를 들어 /about (서버에서 요청할 특정 리소스나 페이지)

## DNS 조회 (Domain Name System)

URL이 입력되면, 브라우저는 해당 도메인 이름을 DNS 서버에 질의하여 서버의 IP 주소를 조회합니다. DNS는 사람이 읽을 수 있는 도메인 이름을 컴퓨터가 이해할 수 있는 IP 주소(예: 192.168.1.1)로 변환하는 역할을 합니다.

만약 IP 주소가 브라우저 캐시 또는 운영체제 캐시에 저장되어 있으면, DNS 조회는 생략될 수 있습니다.
DNS 서버에서 IP 주소를 반환하면, 브라우저는 해당 IP 주소로 요청을 보낼 준비를 합니다.

## TCP 연결 (3-way Handshake)

브라우저는 DNS 조회를 통해 얻은 IP 주소를 기반으로 서버와의 TCP 연결을 설정합니다. 이는 안정적인 데이터 전송을 보장하는 전송 계층 프로토콜입니다. 이 과정에서 브라우저와 서버는 3-way handshake라 불리는 절차를 거칩니다:

SYN: 클라이언트(브라우저)가 서버에 연결 요청 신호를 보냅니다.
SYN-ACK: 서버가 연결 요청을 승인하는 응답을 보냅니다.
ACK: 클라이언트가 서버의 응답을 확인하며 연결을 완료합니다.

이 과정을 통해 클라이언트와 서버 간의 연결이 성립됩니다.

## HTTP/HTTPS 요청

TCP 연결이 성립되면, 브라우저는 서버에 HTTP 또는 HTTPS 요청을 보냅니다. 이 요청은 웹 페이지나 특정 데이터를 요청하는 메시지입니다. HTTP 요청은 크게 세 가지 부분으로 구성됩니다:

HTTP 메서드(Method): 요청의 유형을 나타냅니다.
GET: 서버로부터 데이터를 요청할 때 사용됩니다. 대부분의 웹 페이지 요청은 GET 방식입니다.
POST: 서버에 데이터를 제출할 때 사용됩니다(예: 폼 제출).
그 외에도 PUT, DELETE, HEAD 등의 메서드가 있습니다.
URL: 요청할 리소스의 주소.
헤더(Header): 브라우저, 사용자의 세션 정보, 쿠키, 인코딩 방식 등의 부가 정보를 서버에 전달합니다.
본문(Body): (POST 요청 등에서) 서버로 전송할 데이터를 포함합니다.

## 서버 처리

서버는 클라이언트로부터 받은 요청을 처리합니다. 이 과정에서 서버는 요청된 URL에 해당하는 리소스나 데이터를 찾고, 데이터베이스 조회, 비즈니스 로직 처리 등을 수행할 수 있습니다. 서버가 처리해야 할 주요 작업은 다음과 같습니다:

요청된 리소스 탐색: 서버는 요청된 파일이나 리소스를 찾습니다. 예를 들어, HTML 파일, 이미지, 스크립트 등이 포함될 수 있습니다.
백엔드 처리: 동적인 페이지라면, 서버는 백엔드 코드(PHP, Node.js, Python 등)를 실행해 데이터베이스와 상호작용하거나 특정 로직을 수행해 결과를 생성합니다.
상태 코드 생성: 서버는 요청이 성공적으로 처리되었는지 여부를 나타내는 HTTP 상태 코드를 반환합니다. 예:
200 OK: 요청이 성공적으로 처리됨.
404 Not Found: 요청한 리소스를 찾을 수 없음.
500 Internal Server Error: 서버 내부 오류 발생.

## HTTP/HTTPS 응답

서버가 요청을 처리한 후, 브라우저로 HTTP 응답을 반환합니다. HTTP 응답은 다음과 같은 요소로 구성됩니다:

상태 코드(Status Code): 요청의 처리 결과를 나타내는 코드입니다.
헤더(Header): 응답과 관련된 메타데이터로, 예를 들어 콘텐츠의 형식(Content-Type)이나 캐시 제어(Cache-Control) 정보 등이 포함됩니다.
본문(Body): 서버가 반환하는 실제 데이터로, HTML 문서, JSON 데이터, 이미지 파일 등이 들어 있습니다.

## 브라우저 렌더링

브라우저가 서버로부터 받은 응답을 기반으로 웹 페이지를 렌더링하는 과정입니다. 만약 요청한 리소스가 HTML 문서라면, 브라우저는 HTML을 해석하고 DOM(Document Object Model) 트리를 생성합니다.

HTML 해석: HTML을 파싱하여 웹 페이지의 구조를 만듭니다.
CSS 적용: CSS 파일을 로드하고 스타일을 적용하여 레이아웃을 형성합니다.
JavaScript 실행: JavaScript 파일을 로드하고 실행하여 웹 페이지에 동적인 요소를 추가합니다.
이미지 및 리소스 로드: 이미지, 폰트, 기타 리소스가 순차적으로 로드됩니다.

## 후속 요청 (추가 리소스 요청)

브라우저는 메인 HTML 파일을 받는 즉시 그 안에 포함된 **추가 리소스(이미지, CSS, JavaScript 파일 등)**에 대한 추가 요청을 보냅니다. 이들 리소스는 병렬로 로드되며, 웹 페이지가 완전히 표시되기까지 단계적으로 브라우저에 의해 처리됩니다.

## 캐싱과 성능 최적화

브라우저와 서버는 성능 최적화를 위해 캐싱 메커니즘을 활용합니다. 캐싱된 리소스는 서버로부터 다시 요청하지 않고 클라이언트 측(브라우저)에 저장된 데이터를 사용합니다. 서버는 응답 헤더에서 캐시 제어(Cache-Control) 규칙을 설정하여 특정 리소스의 유효 기간을 정할 수 있습니다.

## 연결 종료

모든 요청과 응답이 완료되면, 서버와 브라우저 간의 연결은 TCP 연결 종료 과정(TCP 4-way handshake)을 통해 종료됩니다. 이로써 웹 요청 및 응답 과정이 마무리됩니다.
